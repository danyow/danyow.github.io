<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-Unity@2022.1 plugin-docs plugin-id-default docs-doc-id-unity/graphics/shaders/shaders-overview/shader-variants-and-keywords/Shader keywords">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Danyow RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Danyow Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="Danyow JSON Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-141789564-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-141789564-1",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Danyow" href="/opensearch.xml">
<link rel="alternate" type="application/rss+xml" href="/changelog/rss.xml" title="日志 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/changelog/atom.xml" title="日志 Atom Feed">
<link rel="alternate" type="application/json" href="/changelog/feed.json" title="日志 JSON Feed">
<link rel="icon" href="/img/logo.png">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(37, 194, 160)">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#000">
<link rel="apple-touch-icon" href="/img/logo.png">
<link rel="mask-icon" href="/img/logo.png" color="rgb(62, 204, 94)">
<meta name="msapplication-TileImage" content="/img/logo.png">
<meta name="msapplication-TileColor" content="#000">
<link rel="stylesheet" href="/katex/katex.min.css"><title data-rh="true">Shader keywords | Danyow</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://danyow.github.io/docs/graphics/shaders/shaders-overview/shader-variants-and-keywords/shader-keywords"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="Unity@2022.1"><meta data-rh="true" name="docusaurus_tag" content="docs-default-Unity@2022.1"><meta data-rh="true" name="docsearch:version" content="Unity@2022.1"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-Unity@2022.1"><meta data-rh="true" property="og:title" content="Shader keywords | Danyow"><meta data-rh="true" name="description" content="Shader keywords allow you to use conditional behavior in your shader code. You can create shaders that share some common code, but have different functionality when a given  keyword  is enabled or disabled."><meta data-rh="true" property="og:description" content="Shader keywords allow you to use conditional behavior in your shader code. You can create shaders that share some common code, but have different functionality when a given  keyword  is enabled or disabled."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://danyow.github.io/docs/graphics/shaders/shaders-overview/shader-variants-and-keywords/shader-keywords"><link data-rh="true" rel="alternate" href="https://danyow.github.io/docs/graphics/shaders/shaders-overview/shader-variants-and-keywords/shader-keywords" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://danyow.github.io/en/docs/graphics/shaders/shaders-overview/shader-variants-and-keywords/shader-keywords" hreflang="en"><link data-rh="true" rel="alternate" href="https://danyow.github.io/docs/graphics/shaders/shaders-overview/shader-variants-and-keywords/shader-keywords" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://S3KRFC060Q-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.bff76bc0.css">
<link rel="preload" href="/assets/js/runtime~main.4e562e6e.js" as="script">
<link rel="preload" href="/assets/js/main.9af7a4d9.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_BxGa">跳到主要内容</a></div><div class="announcementBar_yyVl" role="banner"><div class="announcementBarPlaceholder_Il1w"></div><div class="announcementBarContent_KFU1">⭐️ If you like, give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/danyow/danyow.github.io">GitHub</a> </div><button type="button" class="clean-btn close announcementBarClose_axA0" aria-label="关闭"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top navbarHideable_FcXi"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Danyow Logo" class="themedImage_aIr_ themedImage--light_DGIu" height="32" width="32"><img src="/img/logo-dark.svg" alt="Danyow Logo" class="themedImage_aIr_ themedImage--dark_RoHN" height="32" width="32"></div><b class="navbar__title">Danyow</b></a><a class="navbar__item navbar__link" href="/blog">博客</a><a class="navbar__item navbar__link" href="/changelog">日志</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/animation-section/animation-section">Unity@2022.1</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next">v0 🚧</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/graphics/shaders/shaders-overview/shader-variants-and-keywords/shader-keywords">Unity@2022.1</a></li><li><a href="https://62455b8ed3daac0779429a1c--danyow.netlify.app/docs/lua/hello" target="_blank" rel="noopener noreferrer" class="dropdown__link">Lua@5.3<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_GWqj"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a class="dropdown__link" href="/versions">所有版本</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><span><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_NpMu"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg><span>中文</span></span></a><ul class="dropdown__menu"><li><a href="/docs/graphics/shaders/shaders-overview/shader-variants-and-keywords/shader-keywords" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">中文</a></li><li><a href="/en/docs/graphics/shaders/shaders-overview/shader-variants-and-keywords/shader-keywords" target="_self" rel="noopener noreferrer" class="dropdown__link">English</a></li><li><a href="https://github.com/danyow/danyow.github.io/issues/3526" target="_blank" rel="noopener noreferrer" class="dropdown__link">Help Us Translate<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_GWqj"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a href="https://github.com/danyow/danyow.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_IT2h colorModeToggle_o_qc"><button class="clean-btn toggleButton_pGki toggleButtonDisabled_vZLo" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_dYsV"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_WRF1"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_lGmL"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_zNSk"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_ecpa" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_NEdF"><div class="sidebar_Uz2u sidebarWithHideableNavbar_MFe1"><a tabindex="-1" class="sidebarLogo_iqfm" href="/"><img src="/img/logo.svg" alt="Danyow Logo" class="themedImage_aIr_ themedImage--light_DGIu" height="32" width="32"><img src="/img/logo-dark.svg" alt="Danyow Logo" class="themedImage_aIr_ themedImage--dark_RoHN" height="32" width="32"><b>Danyow</b></a><nav class="menu thin-scrollbar menu_XU2j menuWithAnnouncementBar_vo3y"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/animation-section/animation-section">动画</a><button aria-label="打开/收起侧边栏菜单「动画」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/asset-store/asset-store">Unity Asset Store</a><button aria-label="打开/收起侧边栏菜单「Unity Asset Store」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/asset-workflow/asset-workflow">资源工作流程</a><button aria-label="打开/收起侧边栏菜单「资源工作流程」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/audio/audio">音频</a><button aria-label="打开/收起侧边栏菜单「音频」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/creating-environments/creating-environments">World building</a><button aria-label="打开/收起侧边栏菜单「World building」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/glossary">术语表</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/graphics/graphics">图形</a><button aria-label="打开/收起侧边栏菜单「图形」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/graphics/cameras-overview/cameras-overview">摄像机</a><button aria-label="打开/收起侧边栏菜单「摄像机」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/graphics/graphics-apis/graphics-apis">图形 API 支持</a><button aria-label="打开/收起侧边栏菜单「图形 API 支持」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/graphics/graphics-color/graphics-color">颜色</a><button aria-label="打开/收起侧边栏菜单「颜色」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/graphics/graphics-performance-profiling/graphics-performance-profiling">Graphics performance and profiling</a><button aria-label="打开/收起侧边栏菜单「Graphics performance and profiling」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/graphics/lighting-overview/lighting-overview">光照</a><button aria-label="打开/收起侧边栏菜单「光照」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/graphics/materials/materials">材质</a><button aria-label="打开/收起侧边栏菜单「材质」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/graphics/mesh/mesh">网格</a><button aria-label="打开/收起侧边栏菜单「网格」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/graphics/models/models">模型</a><button aria-label="打开/收起侧边栏菜单「模型」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/graphics/render-pipelines/render-pipelines">渲染管线</a><button aria-label="打开/收起侧边栏菜单「渲染管线」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/graphics/shaders/shaders">着色器</a><button aria-label="打开/收起侧边栏菜单「着色器」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/graphics/shaders/shader-built-in/shader-built-in">内置着色器</a><button aria-label="打开/收起侧边栏菜单「内置着色器」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/graphics/shaders/shader-graph">使用 Shader Graph</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/graphics/shaders/shader-performance-debugging/shader-performance-debugging">Understanding shader performance</a><button aria-label="打开/收起侧边栏菜单「Understanding shader performance」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/graphics/shaders/shader-writing/shader-writing">编写着色器</a><button aria-label="打开/收起侧边栏菜单「编写着色器」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/graphics/shaders/shaders-overview/shaders-overview">着色器核心概念</a><button aria-label="打开/收起侧边栏菜单「着色器核心概念」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/graphics/shaders/shaders-overview/class-compute-shader">计算着色器</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/graphics/shaders/shaders-overview/class-shader">着色器资源</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/graphics/shaders/shaders-overview/shader-compilation/shader-compilation">着色器编译</a><button aria-label="打开/收起侧边栏菜单「着色器编译」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/graphics/shaders/shaders-overview/shader-error">Error and loading shaders</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/graphics/shaders/shaders-overview/shader-introduction">着色器简介</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/graphics/shaders/shaders-overview/shader-loading">着色器加载</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/graphics/shaders/shaders-overview/shader-objects">Shader 类</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/graphics/shaders/shaders-overview/shader-variants-and-keywords/shader-variants-and-keywords">Branching, variants, and keywords</a><button aria-label="打开/收起侧边栏菜单「Branching, variants, and keywords」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/graphics/shaders/shaders-overview/shader-variants-and-keywords/shader-branching">Branching in shaders</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/graphics/shaders/shaders-overview/shader-variants-and-keywords/shader-conditionals">Conditionals in shaders</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/graphics/shaders/shaders-overview/shader-variants-and-keywords/shader-keywords-material-inspector">Using shader keywords with the material Inspector</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/graphics/shaders/shaders-overview/shader-variants-and-keywords/shader-keywords-scripts">Using shader keywords with C# scripts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/graphics/shaders/shaders-overview/shader-variants-and-keywords/shader-keywords">Shader keywords</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/graphics/shaders/shaders-overview/shader-variants-and-keywords/shader-variant-collections">着色器变体集合</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/graphics/shaders/shaders-overview/shader-variants-and-keywords/shader-variant-stripping">Shader variant stripping</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/graphics/shaders/shaders-overview/shader-variants-and-keywords/shader-variants">Shader variants, also sometimes called shader permutations, are one way of introducing [conditional behavior](shader-conditional-code) into shader code.</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/graphics/shaders/shaders-overview/sl-shader-replacement">在运行时替换着色器</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/graphics/sky/sky">天空</a><button aria-label="打开/收起侧边栏菜单「天空」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/graphics/textures/textures">纹理</a><button aria-label="打开/收起侧边栏菜单「纹理」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/graphics/visual-effects/visual-effects">Visual effects</a><button aria-label="打开/收起侧边栏菜单「Visual effects」" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/input/input">输入</a><button aria-label="打开/收起侧边栏菜单「输入」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/legacy-topics/legacy-topics">旧版主题</a><button aria-label="打开/收起侧边栏菜单「旧版主题」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/navigation/navigation">导航和寻路</a><button aria-label="打开/收起侧边栏菜单「导航和寻路」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/open-source-repositories/open-source-repositories">开源代码仓库</a><button aria-label="打开/收起侧边栏菜单「开源代码仓库」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/packages-list/packages-list">Packages and feature sets</a><button aria-label="打开/收起侧边栏菜单「Packages and feature sets」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/physics-section/physics-section">物理系统</a><button aria-label="打开/收起侧边栏菜单「物理系统」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/platform-specific/platform-specific">平台开发</a><button aria-label="打开/收起侧边栏菜单「平台开发」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/scripting-section/scripting-section">脚本</a><button aria-label="打开/收起侧边栏菜单「脚本」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/search-overview/search-overview">Unity Search</a><button aria-label="打开/收起侧边栏菜单「Unity Search」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/uitoolkits/uitoolkits">创建用户界面 (UI)</a><button aria-label="打开/收起侧边栏菜单「创建用户界面 (UI)」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/unet/unet">多玩家和联网</a><button aria-label="打开/收起侧边栏菜单「多玩家和联网」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/unity-manual/unity-manual">Unity User Manual 2022.1 (beta)</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/unity-overview/unity-overview">在 Unity 中操作</a><button aria-label="打开/收起侧边栏菜单「在 Unity 中操作」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/unity-services/unity-services">Unity 服务</a><button aria-label="打开/收起侧边栏菜单「Unity 服务」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/unity2d/unity2d">2D</a><button aria-label="打开/收起侧边栏菜单「2D」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/video-player/video-player">视频概述</a><button aria-label="打开/收起侧边栏菜单「视频概述」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/xr/xr">XR</a><button aria-label="打开/收起侧边栏菜单「XR」" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="收起侧边栏" aria-label="收起侧边栏" class="button button--secondary button--outline collapseSidebarButton_Essf"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_bqna"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_vJqy"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_ygLL"><div class="docItemContainer_yJzi"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_nmcO" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/">🏠</a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/graphics/graphics"><span itemprop="name">图形</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/graphics/shaders/shaders"><span itemprop="name">着色器</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/graphics/shaders/shaders-overview/shaders-overview"><span itemprop="name">着色器核心概念</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/graphics/shaders/shaders-overview/shader-variants-and-keywords/shader-variants-and-keywords"><span itemprop="name">Branching, variants, and keywords</span></a><meta itemprop="position" content="4"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">Shader keywords</span><meta itemprop="position" content="5"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">版本：Unity@2022.1</span><div class="tocCollapsible_aX8Q theme-doc-toc-mobile tocMobile_By44"><button type="button" class="clean-btn tocCollapsibleButton_Va7b">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>Shader keywords</h1><p>Shader keywords allow you to use <a href="/docs/graphics/shaders/shaders-overview/shader-variants-and-keywords/shader-conditionals">conditional behavior</a> in your shader code. You can create shaders that share some common code, but have different functionality when a given  <strong>keyword</strong>  is enabled or disabled.</p><p>You can use shader keywords with <a href="/docs/graphics/shaders/shaders-overview/shader-variants-and-keywords/shader-branching#dynamic-branching">dynamic branching</a>, or with <a href="/docs/graphics/shaders/shaders-overview/shader-variants-and-keywords/shader-variants">Shader variants</a>. Before you use shader keywords, it is important to understand how these techniques work, and which one is right for your project.</p><p>本页包含以下信息：</p><ul><li><a href="#using-shader-keywords">Using shader keywords</a><ul><li><a href="#declaring-shader-keywords">Declaring shader keywords</a></li><li><a href="#making-behavior-conditional-with-shader-keywords">Making behavior conditional with shader keywords</a></li><li><a href="#%E5%90%AF%E7%94%A8%E5%92%8C%E7%A6%81%E7%94%A8%E7%9D%80%E8%89%B2%E5%99%A8%E5%85%B3%E9%94%AE%E5%AD%97">Enabling and disabling shader keywords</a></li></ul></li><li><a href="#unity%E2%80%99s-predefined-shader-keywords">Unity’s predefined shader keywords</a></li><li><a href="#shader-keyword-limits">Shader keyword limits</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="using-shader-keywords">Using shader keywords<a class="hash-link" href="#using-shader-keywords" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="declaring-shader-keywords">Declaring shader keywords<a class="hash-link" href="#declaring-shader-keywords" title="标题的直接链接">​</a></h3><p>You declare shader keywords in sets. A set contains mutually exclusive keywords.</p><p>For example, the following set contains three keywords:</p><ul><li><p>COLOR<!-- -->_<!-- -->RED</p></li><li><p>COLOR<!-- -->_<!-- -->GREEN</p></li><li><p>COLOR<!-- -->_<!-- -->BLUE</p><p><strong>Note:</strong>  In Shader Graph, the terminology is different: a set of keywords is called a  <strong>Keyword</strong> , and the keywords in a set are called  <strong>states</strong> . Internally, the functionality is the same: Unity compiles them in the same way, you work with them the same way with C# scripts, and so on.</p></li></ul><p>The way that you declare shader keywords affects a number of things:</p><ul><li>The <a href="#definition-type-%E2%80%9Cmulti-compile%E2%80%9D-%E2%80%9Cshader-feature%E2%80%9D-or-%E2%80%9Cdynamic-branch%E2%80%9D">type</a> affects whether and how Unity uses the keywords to generate shader variants, or whether it uses them for dynamic branching.</li><li>The <a href="#local-or-global-scope">scope</a> affects whether the keywords are local or global. This determines their behavior at runtime.</li><li>The <a href="#stage-specific-keywords">stage</a> affects which shader stage the keywords affect (where applicable).</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="definition-type-multi-compile-shader-feature-or-dynamic-branch">Definition type: “multi compile”, “shader feature”, or “dynamic branch”<a class="hash-link" href="#definition-type-multi-compile-shader-feature-or-dynamic-branch" title="标题的直接链接">​</a></h4><p>When you declare a set of keywords, you choose whether to use them with <a href="/docs/graphics/shaders/shaders-overview/shader-variants-and-keywords/shader-variants">shader variants</a> or with <a href="/docs/graphics/shaders/shaders-overview/shader-variants-and-keywords/shader-branching">dynamic branching</a>. If you choose shader variants, you must also choose how Unity defines the keywords internally; this affects the number of variants that Unity compiles.</p><ul><li>“dynamic branch”: Use this to create a set of keywords for use with dynamic branching. Internally, Unity uses these keywords to create uniform variables.</li><li>“multi compile” or “shader feature”: Use this to create a set of keywords for use with shader variants. Internally, Unity uses these keyword to create <code>#define</code> preprocessor directives.<ul><li>“multi compile” declares a set of keywords for use with shader variants.<br><br>Unity compiles shader variants for all keywords in the set.</li><li>“shader feature” declares a set of keywords for use with shader variants, and also instructs the compiler to compile variants where none of these keywords are enabled.<br><br>Unity examines the state of your project at build time, and only compiles variants for keywords that are in use. A keyword is in use if a material that is included in the build has that keyword enabled.</li></ul></li></ul><p>Whether to choose “multi compile” or “shader feature” depends on how you use the keywords. If you use the keywords to configure materials in your project and do not change their value from C# scripts at runtime, then you should use “shader feature” to reduce the number of shader keywords and variants in your project. If you enable and disable keywords at runtime using C# scripts, then you should use “multi compile” to prevent variants being stripped in error. For more information on shader stripping, see <a href="/docs/graphics/shaders/shaders-overview/shader-variants-and-keywords/shader-variant-stripping">Shader variant stripping</a>.</p><p> <strong>Note:</strong>  If you add a shader to the list of <a href="/docs/unity-overview/editor-features/comp-manager-group/class-graphics-settings#always-included-shaders"> <strong>Always Included Shaders</strong> </a> in the Graphics settings window, Unity includes all keywords from all sets in the build, even if they were declared with “shader feature”.</p><p>To set this value, see the following documentation:</p><ul><li>In hand-coded shaders, see <a href="/docs/graphics/shaders/shader-writing/sl-shader-programs/shader-preprocessor-directives/sl-multiple-program-variants">Declaring and using shader keywords in HLSL</a></li><li>In Shader Graph, see <a href="https://docs.unity3d.com/Packages/com.unity.shadergraph@latest?subfolder=/manual/Keywords.html" target="_blank" rel="noopener noreferrer">Keywords</a>.  <strong>Note:</strong>  The “dynamic branch” option is not available in Shader Graph. You can only use shader keywords with shader variants in Shader Graph.</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="local-or-global-scope">Local or global scope<a class="hash-link" href="#local-or-global-scope" title="标题的直接链接">​</a></h4><p>When you declare a set of keywords, you choose whether the keywords in the set have local or global  <strong>scope</strong> . This determines whether you can override the state of this keyword at runtime using a global shader keyword.</p><p>By default, you declare keywords with global scope. This means that you can override the state of this keyword at runtime using a global shader keyword. If you declare keywords with local scope, this means that you cannot override the state of this keyword at runtime using a global shader keyword. For more information and a code example, see <a href="/docs/graphics/shaders/shaders-overview/shader-variants-and-keywords/shader-keywords-scripts">Using shader keywords with C# scripts</a>.</p><p> <strong>Note:</strong>  If a keyword with the same name exists in a shader source file and its dependencies, the scope of the keyword in the source file overrides the scope in the dependencies. Dependencies comprise all Shaders that are included via the <a href="/docs/graphics/shaders/shader-writing/sl-reference/sl-shader/sl-fallback">Fallback command</a>, and Passes that are included via the <a href="/docs/graphics/shaders/shader-writing/sl-reference/shader-shaderlab-commands/sl-use-pass">UsePass command</a>.</p><p>To set this value, see the following documentation:</p><ul><li>In hand-coded shaders, see <a href="/docs/graphics/shaders/shader-writing/sl-shader-programs/shader-preprocessor-directives/sl-multiple-program-variants">Declaring and using shader keywords in HLSL</a></li><li>In Shader Graph, see <a href="https://docs.unity3d.com/Packages/com.unity.shadergraph@latest?subfolder=/manual/Keywords.html" target="_blank" rel="noopener noreferrer">Keywords</a></li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="stage-specific-keywords">Stage-specific keywords<a class="hash-link" href="#stage-specific-keywords" title="标题的直接链接">​</a></h4><p>By default, Unity generates keyword variants for each stage of your shader. For example, if your shader contains a vertex stage and a fragment stage, Unity generates variants for every keyword combination for both the vertex and the fragment shader programs. If a set of keywords is only used in one of those stages, this results in identical variants for the other stage. Unity automatically identifies and <a href="/docs/graphics/shaders/shaders-overview/shader-variants-and-keywords/shader-variants#deduplication-of-shader-variants">deduplicates</a> identical variants so that they do not increase build size, but they still result in wasted compilation time, increased shader loading times, and increased runtime memory usage.</p><p>To avoid this problem, when you declare a set of keywords in a hand-coded shader, you can instruct Unity to compile them only for a given shader stage. You are then responsible for ensuring that the keywords are only used in the specified shader stages.</p><p> <strong>Note:</strong>  The following graphics APIs do not fully support stage-specific keywords. In OpenGL and Vulkan, at compile time, Unity automatically converts all stage-specific keyword directives to regular keyword directives. In Metal, any keyword targeting vertex stages also affects tessellation stages, and vice versa.</p><p>To set this value:</p><ul><li>In hand-coded shaders, see <a href="/docs/graphics/shaders/shader-writing/sl-shader-programs/shader-preprocessor-directives/sl-multiple-program-variants">Declaring and using shader keywords in HLSL</a></li><li>In Shader Graph, you cannot set this value. By default, all keywords affect all stages.</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="making-behavior-conditional-with-shader-keywords">Making behavior conditional with shader keywords<a class="hash-link" href="#making-behavior-conditional-with-shader-keywords" title="标题的直接链接">​</a></h3><p>You can use shader keywords to make parts of your shader conditional, so that certain behaviors only execute when a given keyword is in a given state.</p><p>为此需要执行以下操作：</p><ul><li>In hand-coded shaders, see <a href="/docs/graphics/shaders/shader-writing/sl-shader-programs/shader-preprocessor-directives/sl-multiple-program-variants">Defining and using shader keywords</a>.</li><li>In Shader Graph, see <a href="https://docs.unity3d.com/Packages/com.unity.shadergraph@latest?subfolder=/manual/Keyword-Node.html" target="_blank" rel="noopener noreferrer">Shader Graph: Keyword Node</a>.</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="启用和禁用着色器关键字">启用和禁用着色器关键字<a class="hash-link" href="#启用和禁用着色器关键字" title="标题的直接链接">​</a></h3><p>You can enable or disable shader keywords. When you enable or disable a shader keyword, the shader displays the appropriate conditional behavior. Depending on whether the keyword work with shader variants or dynamic branching, this means that either Unity renders the appropriate shader variant, or the GPU executes the appropriate branch.</p><p>There are two ways to enable and disable shader keywords:</p><ul><li>Use scripts, either at runtime or in the Unity Editor. For more information, see <a href="/docs/graphics/shaders/shaders-overview/shader-variants-and-keywords/shader-keywords-scripts">Using shader keywords with C# scripts</a>.</li><li>Use the Material Inspector in the Unity Editor. For more information, see <a href="/docs/graphics/shaders/shaders-overview/shader-variants-and-keywords/shader-keywords-material-inspector">Using shader keywords with the Material Inspector</a>.</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="unitys-predefined-shader-keywords">Unity’s predefined shader keywords<a class="hash-link" href="#unitys-predefined-shader-keywords" title="标题的直接链接">​</a></h2><p>Unity uses predefined sets of shader keywords to generate shader variants that enable common functionality.</p><p>Unity adds the following sets of shader variant keywords at compile time:</p><ul><li>By default, Unity adds this set of keywords to all graphics shader programs: STEREO<!-- -->_<!-- -->INSTANCING<!-- -->_<!-- -->ON, STEREO<!-- -->_<!-- -->MULTIVIEW<!-- -->_<!-- -->ON, STEREO<!-- -->_<!-- -->CUBEMAP<!-- -->_<!-- -->RENDER<!-- -->_<!-- -->ON, UNITY<!-- -->_<!-- -->SINGLE<!-- -->_<!-- -->PASS<!-- -->_<!-- -->STEREO. You can strip these keywords using an Editor script. For more information, see <a href="/docs/graphics/shaders/shaders-overview/shader-variants-and-keywords/shader-variant-stripping">Shader variant stripping</a>.</li><li>By default, Unity adds this set of keywords to the Standard Shader: LIGHTMAP<!-- -->_<!-- -->ON, DIRLIGHTMAP<!-- -->_<!-- -->COMBINED, DYNAMICLIGHTMAP<!-- -->_<!-- -->ON, LIGHTMAP<!-- -->_<!-- -->SHADOW<!-- -->_<!-- -->MIXING, SHADOWS<!-- -->_<!-- -->SHADOWMASK. You can strip these keywords using the <a href="/docs/unity-overview/editor-features/comp-manager-group/class-graphics-settings">Graphics settings</a> window.</li><li>In the Built-in Render Pipeline, if your project uses <a href="/docs/graphics/render-pipelines/built-in-render-pipeline/graphics-tiers#tier-settings">tier settings</a> that differ from each other, Unity adds this set of keywords to all graphics shaders: UNITY<!-- -->_<!-- -->HARDWARE<!-- -->_<!-- -->TIER1, UNITY<!-- -->_<!-- -->HARDWARE<!-- -->_<!-- -->TIER2, UNITY<!-- -->_<!-- -->HARDWARE<!-- -->_<!-- -->TIER3. For more information, see <a href="/docs/graphics/render-pipelines/built-in-render-pipeline/graphics-tiers#%E5%9B%BE%E5%BD%A2%E5%B1%82%E5%92%8C%E7%9D%80%E8%89%B2%E5%99%A8%E5%8F%98%E4%BD%93">Graphics tiers: Graphics tiers and shader variants</a>.</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="shader-keyword-limits">Shader keyword limits<a class="hash-link" href="#shader-keyword-limits" title="标题的直接链接">​</a></h2><p>Unity can use up to 4,294,967,294 global shader keywords. Individual shaders and compute shaders can use up to 65,534 local shader keywords. These totals include keywords used for variants, and keywords used for dynamic branching.</p><p>Every keyword declared in the shader source file and its dependencies count towards this limit. Dependencies include <a href="/docs/graphics/shaders/shader-writing/sl-reference/sl-pass/sl-pass">Passes</a> that the shader includes with <a href="/docs/graphics/shaders/shader-writing/sl-reference/shader-shaderlab-commands/sl-use-pass">UsePass</a>, and <a href="/docs/graphics/shaders/shader-writing/sl-reference/sl-shader/sl-fallback">fallbacks</a>.</p><p>If Unity encounters a shader keyword with the same name multiple times, it only counts towards the limit once.</p><p>If a shader uses more than 128 keywords in total, it incurs a small runtime performance penalty; therefore, it is best to keep the number of keywords low. Unity always reserves 4 keywords per shader.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://crowdin.com/project/docusaurus-v2/zh-Hans" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_OMbO" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vA0S"><span class="theme-last-updated">最后<!-- -->由 <b>danyow</b> <!-- -->于 <b><time datetime="2022-03-31T15:56:20.000Z">2022/3/31</time></b> <!-- -->更新</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/graphics/shaders/shaders-overview/shader-variants-and-keywords/shader-keywords-scripts"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Using shader keywords with C# scripts</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/graphics/shaders/shaders-overview/shader-variants-and-keywords/shader-variant-collections"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">着色器变体集合</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_jWtb thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#using-shader-keywords" class="table-of-contents__link toc-highlight">Using shader keywords</a><ul><li><a href="#declaring-shader-keywords" class="table-of-contents__link toc-highlight">Declaring shader keywords</a></li><li><a href="#making-behavior-conditional-with-shader-keywords" class="table-of-contents__link toc-highlight">Making behavior conditional with shader keywords</a></li><li><a href="#启用和禁用着色器关键字" class="table-of-contents__link toc-highlight">启用和禁用着色器关键字</a></li></ul></li><li><a href="#unitys-predefined-shader-keywords" class="table-of-contents__link toc-highlight">Unity’s predefined shader keywords</a></li><li><a href="#shader-keyword-limits" class="table-of-contents__link toc-highlight">Shader keyword limits</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/assets/js/runtime~main.4e562e6e.js"></script>
<script src="/assets/js/main.9af7a4d9.js"></script>
</body>
</html>