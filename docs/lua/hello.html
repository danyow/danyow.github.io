<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-Lua@5.3 plugin-docs plugin-id-default docs-doc-id-lua/欢迎你">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Danyow RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Danyow Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="Danyow JSON Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-141789564-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-141789564-1",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Danyow" href="/opensearch.xml">
<link rel="alternate" type="application/rss+xml" href="/changelog/rss.xml" title="日志 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/changelog/atom.xml" title="日志 Atom Feed">
<link rel="alternate" type="application/json" href="/changelog/feed.json" title="日志 JSON Feed">
<link rel="icon" href="/img/logo.png">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(37, 194, 160)">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#000">
<link rel="apple-touch-icon" href="/img/logo.png">
<link rel="mask-icon" href="/img/logo.png" color="rgb(62, 204, 94)">
<meta name="msapplication-TileImage" content="/img/logo.png">
<meta name="msapplication-TileColor" content="#000">
<link rel="stylesheet" href="/katex/katex.min.css"><title data-rh="true">欢迎你 | Danyow</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://danyow.github.io/docs/lua/hello"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="Lua@5.3"><meta data-rh="true" name="docusaurus_tag" content="docs-default-Lua@5.3"><meta data-rh="true" name="docsearch:version" content="Lua@5.3"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-Lua@5.3"><meta data-rh="true" property="og:title" content="欢迎你 | Danyow"><meta data-rh="true" name="description" content="关于 · 安装 · 变更 · 许可证 · 参考手册 · 中英术语对照表"><meta data-rh="true" property="og:description" content="关于 · 安装 · 变更 · 许可证 · 参考手册 · 中英术语对照表"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://danyow.github.io/docs/lua/hello"><link data-rh="true" rel="alternate" href="https://danyow.github.io/docs/lua/hello" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://danyow.github.io/en/docs/lua/hello" hreflang="en"><link data-rh="true" rel="alternate" href="https://danyow.github.io/docs/lua/hello" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://S3KRFC060Q-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.bff76bc0.css">
<link rel="preload" href="/assets/js/runtime~main.f0785f5a.js" as="script">
<link rel="preload" href="/assets/js/main.aae072b5.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_BxGa">跳到主要内容</a></div><div class="announcementBar_yyVl" role="banner"><div class="announcementBarPlaceholder_Il1w"></div><div class="announcementBarContent_KFU1">⭐️ If you like, give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/danyow/danyow.github.io">GitHub</a> </div><button type="button" class="clean-btn close announcementBarClose_axA0" aria-label="关闭"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top navbarHideable_FcXi"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Danyow Logo" class="themedImage_aIr_ themedImage--light_DGIu" height="32" width="32"><img src="/img/logo-dark.svg" alt="Danyow Logo" class="themedImage_aIr_ themedImage--dark_RoHN" height="32" width="32"></div><b class="navbar__title">Danyow</b></a><a class="navbar__item navbar__link" href="/blog">博客</a><a class="navbar__item navbar__link" href="/changelog">日志</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/lua/hello">Lua@5.3</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next">v0 🚧</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/lua/hello">Lua@5.3</a></li><li><a class="dropdown__link" href="/versions">所有版本</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><span><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_NpMu"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg><span>中文</span></span></a><ul class="dropdown__menu"><li><a href="/docs/lua/hello" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">中文</a></li><li><a href="/en/docs/lua/hello" target="_self" rel="noopener noreferrer" class="dropdown__link">English</a></li><li><a href="https://github.com/danyow/danyow.github.io/issues/3526" target="_blank" rel="noopener noreferrer" class="dropdown__link">Help Us Translate<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_GWqj"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a href="https://github.com/danyow/danyow.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_IT2h colorModeToggle_o_qc"><button class="clean-btn toggleButton_pGki toggleButtonDisabled_vZLo" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_dYsV"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_WRF1"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_lGmL"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_zNSk"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_ecpa" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_NEdF"><div class="sidebar_Uz2u sidebarWithHideableNavbar_MFe1"><a tabindex="-1" class="sidebarLogo_iqfm" href="/"><img src="/img/logo.svg" alt="Danyow Logo" class="themedImage_aIr_ themedImage--light_DGIu" height="32" width="32"><img src="/img/logo-dark.svg" alt="Danyow Logo" class="themedImage_aIr_ themedImage--dark_RoHN" height="32" width="32"><b>Danyow</b></a><nav class="menu thin-scrollbar menu_XU2j menuWithAnnouncementBar_vo3y"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/lua/hello">欢迎你</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/lua/contents">概览</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/lua/manual">参考手册</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/lua/glossary">术语中英对照表</a></li></ul></nav><button type="button" title="收起侧边栏" aria-label="收起侧边栏" class="button button--secondary button--outline collapseSidebarButton_Essf"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_bqna"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_vJqy"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_ygLL"><div class="docItemContainer_yJzi"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_nmcO" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/">🏠</a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">欢迎你</span><meta itemprop="position" content="1"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">版本：Lua@5.3</span><div class="tocCollapsible_aX8Q theme-doc-toc-mobile tocMobile_By44"><button type="button" class="clean-btn tocCollapsibleButton_Va7b">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>欢迎你</h1><p><a href="#%E5%85%B3%E4%BA%8E-Lua">关于</a> · <a href="#%E5%A6%82%E4%BD%95%E5%AE%89%E8%A3%85-lua">安装</a> · <a href="#%E5%AF%B9%E6%AF%94%E4%BB%A5%E5%BE%80%E5%8F%98%E6%9B%B4">变更</a> · <a href="#license">许可证</a> · <a href="/docs/lua/contents">参考手册</a> · <a href="/docs/lua/glossary">中英术语对照表</a></p><h2 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="关于-lua">关于 Lua<a class="hash-link" href="#关于-lua" title="标题的直接链接">​</a></h2><p>Lua 是一门强大、快速、轻量的嵌入式脚本语言。它由巴西里约热内卢 Pontifical Catholic 大学的 <a href="http://www.puc-rio.br/" target="_blank" rel="noopener noreferrer">PUC-Rio</a> <a href="http://www.lua.org/authors.html" target="_blank" rel="noopener noreferrer">团队</a> 开发。 Lua 是一个 <a href="#license">自由软件</a>， 广泛应用于世界上无数产品和项目。</p><p>Lua 的 <a href="http://www.lua.org/" target="_blank" rel="noopener noreferrer">官方网站</a> 上提供了关于 Lua 的完整信息， 包括 <a href="http://www.lua.org/about.html" target="_blank" rel="noopener noreferrer">综合概要</a> 和最新的 <a href="http://www.lua.org/docs.html" target="_blank" rel="noopener noreferrer">文档</a>， 需要注意的是 <a href="http://www.lua.org/manual/5.3/" target="_blank" rel="noopener noreferrer">参考手册</a> 可能和 <a href="/docs/lua/contents">这里的版本</a> 有所不同。</p><h2 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="如何安装-lua">如何安装 Lua<a class="hash-link" href="#如何安装-lua" title="标题的直接链接">​</a></h2><p>Lua 以 <a href="http://www.lua.org/ftp/" target="_blank" rel="noopener noreferrer">源代码</a> 的形式发布，使用之前，你需要构建它。 构建 Lua 非常简单，因为 Lua 是用纯粹的 ANSI C 实现的，在所有具备 ANSI C 编译器的平台都可以直接编译。 同时，Lua 也可以直接以 C++
形式编译。 下面介绍了类 Unix 平台上的构建流程，另有 <a href="#%E5%9C%A8%E5%85%B6%E5%AE%83%E7%B3%BB%E7%BB%9F%E4%B8%8A%E6%9E%84%E5%BB%BA-lua">其它系统构建介绍</a> 与 <a href="#%E5%AE%9A%E5%88%B6">配置选项</a> 以作参考。</p><p>如果你没有时间或兴趣自己编译 Lua， 可以从 <a href="http://lua-users.org/wiki/LuaBinaries" target="_blank" rel="noopener noreferrer">LuaBinaries</a> 获取编译后的二进制文件 或者从 <a href="http://luadist.org/" target="_blank" rel="noopener noreferrer">LuaDist</a> 这里获取 Lua 的多平台发布版（自带电池）。</p><h3 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="构建-lua">构建 Lua<a class="hash-link" href="#构建-lua" title="标题的直接链接">​</a></h3><p>在大多数类 Unix 平台上，输入 &quot;make&quot; 加上合适的平台名即可。步骤如下：</p><ol><li><p>打开一个控制台窗口，切换到 lua-5.3.0 目录。 目录下的 Makefile 文件内包含了构建与安装流程。</p></li><li><p>运行 &quot;make&quot; 并查看你的平台是否列在其中。 当前支持的平台有：</p><p>aix bsd c89 freebsd generic linux macosx mingw posix solaris</p><p>如果你的平台在其中，运行 &quot;make xxx&quot; 即可，xxx 代表你的平台名。</p><p>如果你的平台不在其中，先尝试最相近的平台，再按 posix generic c89 顺序依次尝试。</p></li><li><p>编译过程很短，最终在 src 目录下生成三个文件： lua (解释器), luac (编译器)和 liblua.a (静态库) 。</p></li><li><p>构建完成后，可以运行 &quot;make test&quot; 来检查是否成功。 它会运行解释器并打印版本号。</p></li></ol><p>如果你是 Linux 系统并出现了编译错误，请确认你是否安装了 readline （也可能叫 libreadline-dev 或者 readline-devel）开发包。 之后，如果还有链接错误，尝试 &quot;make linux
MYLIBS=-ltermcap&quot; 。</p><h3 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="安装-lua">安装 Lua<a class="hash-link" href="#安装-lua" title="标题的直接链接">​</a></h3><p>一旦你构建完毕，可能希望把 Lua 安装到系统默认位置， 那么执行 &quot;make install&quot; 即可。 系统默认位置以及如何安装都定义在 Makefile 中。 这个过程可能需要有相关的权限。</p><p>运行 &quot;make xxx install&quot; 可以构建和安装一步到位，xxx 指你的平台名。</p><p>如果你想把 Lua 安装在本地，运行 &quot;make local&quot;。 它会创建一个 install 目录，内有 bin, include, lib, man, share, 子目录，并将下列文件安装在其中。 如果你想安装到本地其它目录，
运行 &quot;make install INSTALL_TOP=xxx&quot;，xxx 指你选择的目录。 由于安装过程中会切换到 src 以及 doc 目录进行， 所以当 INSTALL_TOP 不是绝对路径时务必小心。</p><p>bin:</p><p>lua luac</p><p>include:</p><p>lauxlib.h lua.h lua.hpp luaconf.h lualib.h</p><p>lib:</p><p>liblua.a</p><p>man/man1:</p><p>lua.1 luac.1</p><p>这些是开发时需要的目录。 如果你仅仅想运行一些 Lua 程序， 那么只需要 bin 和 man 下的文件。 include 和 lib 下的文件用于将 Lua 嵌入 C 或 C++ 程序。</p><h3 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="定制">定制<a class="hash-link" href="#定制" title="标题的直接链接">​</a></h3><p>有三类定制，可以通过编辑文件完成：</p><ul><li>怎样安装 Lua 以及安装到哪里 — 编辑 Makefile。</li><li>怎样构建 Lua — 编辑 src/Makefile。</li><li>Lua 特性 — 编辑 src/luaconf.h。</li></ul><p>其实你不必编辑 Makefile 文件，make 的时候在命令行指定相关变量即可。 当然，编辑保存 Makefile 可以给定制留个记录。</p><p>另一方面，如果你需要定制一些 Lua 特性，那就需要在构建安装 Lua 前 编辑 src/luaconf.h 。 编辑过的文件必须确保一致性，也就是只安装在一个地方， 让所有你编译出来的用到 Lua 的程序都使用这唯一的这一份。
专家可以通过编辑 Lua 源代码来定制更多的东西。</p><h3 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="在其它系统上构建-lua">在其它系统上构建 Lua<a class="hash-link" href="#在其它系统上构建-lua" title="标题的直接链接">​</a></h3><p>如果你不使用常规的 Unix 工具，那么构建 Lua 的流程就取决于你使用的编译器。 你需要创建若干工程来构建库，解释器以及编译器等。请把下列源文件加入相关工程：</p><p>库:</p><p>lapi.c lcode.c lctype.c ldebug.c ldo.c ldump.c lfunc.c lgc.c llex.c lmem.c lobject.c lopcodes.c lparser.c lstate.c
lstring.c ltable.c ltm.c lundump.c lvm.c lzio.c lauxlib.c lbaselib.c lbitlib.c lcorolib.c ldblib.c liolib.c lmathlib.c
loslib.c lstrlib.c ltablib.c lutf8lib.c loadlib.c linit.c</p><p>解释器:</p><p>library, lua.c</p><p>编译器:</p><p>library, luac.c</p><p>把 Lua 以一个库形式用于你的程序，你需要知道如何用你的编译器创建库和使用库。 比如，以动态加载的 C 库形式使用 Lua，你需要了解如何创建动态库并让 Lua API 函数 在动态库中可见 — <em>不要</em> 将 Lua 库链入每个动态库。
在 Unix 下，我们建议把 Lua 库静态链入宿主程序，然后将符号导出用于动态链接； src/Makefile 就是这样处理 Lua 解释器的。 在 Windows 下，我们建议把 Lua 库编译成一个 DLL 。 无论怎样，编译器
luac 都应该静态链接。</p><p>正如上面所述，你可以在构建 Lua 前编辑 src/luaconf.h 以定制一些特性。</p><h2 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="对比以往变更">对比以往变更<a class="hash-link" href="#对比以往变更" title="标题的直接链接">​</a></h2><p>这里列出了 Lua 5.3 引入的主要变更。 <a href="/docs/lua/contents">参考手册</a> 中列出了 <a href="/docs/lua/manual#8-%E4%B8%8E%E4%B9%8B%E5%89%8D%E7%89%88%E6%9C%AC%E4%B8%8D%E5%85%BC%E5%AE%B9%E7%9A%84%E5%9C%B0%E6%96%B9">不兼容的地方</a>。</p><h3 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="主要变化">主要变化<a class="hash-link" href="#主要变化" title="标题的直接链接">​</a></h3><ul><li>整数 (默认 64 位)</li><li>32 位整数的官方支持</li><li>位操作符</li><li>基本的 utf-8 支持</li><li>值的打包及解包函数</li></ul><p>这些是 Lua 5.3 引入的其它变更：</p><h3 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="语言">语言<a class="hash-link" href="#语言" title="标题的直接链接">​</a></h3><ul><li>用户数据可以是任意 Lua 值</li><li>整数除法</li><li>某些元方法有了更加灵活的规则</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="库">库<a class="hash-link" href="#库" title="标题的直接链接">​</a></h3><ul><li><code>ipairs</code> 以及表处理库都会考虑元方法</li><li><code>string.dump</code> 多了裁减选项</li><li>表处理库考虑了元方法</li><li>新函数 <code>table.move</code></li><li>新函数 <code>string.pack</code></li><li>新函数 <code>string.unpack</code></li><li>新函数 <code>string.packsize</code></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="c-api">C API<a class="hash-link" href="#c-api" title="标题的直接链接">​</a></h3><ul><li>简化了延续点 API</li><li><code>lua_gettable</code> 以及类似函数会返回结果的值类型</li><li><code>lua_dump</code> 增加了裁减选项</li><li>新函数： <code>lua_geti</code></li><li>新函数： <code>lua_seti</code></li><li>新函数： <code>lua_isyieldable</code></li><li>新函数： <code>lua_numbertointeger</code></li><li>新函数： <code>lua_rotate</code></li><li>新函数： <code>lua_stringtonumber</code></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="lua-独立解释器">Lua 独立解释器<a class="hash-link" href="#lua-独立解释器" title="标题的直接链接">​</a></h3><ul><li>可以做计算器使用；不再需要前置 &#x27;=&#x27;</li><li><code>arg</code> 表对所有代码都可用</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="license">License<a class="hash-link" href="#license" title="标题的直接链接">​</a></h2><p><a href="http://www.opensource.org/docs/definition.php" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="http://cloudwu.github.io/lua53doc/osi-certified-72x60.png" alt="[osi certified]" class="img_PFMr"></a></p><p>Lua is free software distributed under the terms of the <a href="http://www.opensource.org/licenses/mit-license.html" target="_blank" rel="noopener noreferrer">MIT license</a> reproduced below; it may be used for any
purpose, including commercial purposes, at absolutely no cost without having to ask us. The only requirement is that if
you do use Lua, then you should give us credit by including the appropriate copyright notice somewhere in your product
or its documentation. For details, see <a href="http://www.lua.org/license.html" target="_blank" rel="noopener noreferrer">this</a>.</p><blockquote><p>Copyright © 1994–2015 Lua.org, PUC-Rio.</p><p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the &quot;Software&quot;), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p><p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p><p>THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p></blockquote><hr><p>最后修改时间: 2015 年 1 月 13 日 15:16</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://crowdin.com/project/docusaurus-v2/zh-Hans" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_OMbO" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vA0S"><span class="theme-last-updated">最后<!-- -->由 <b>danyow</b> <!-- -->于 <b><time datetime="2022-03-31T03:18:14.000Z">2022/3/31</time></b> <!-- -->更新</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/lua/contents"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">概览</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_jWtb thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#关于-lua" class="table-of-contents__link toc-highlight">关于 Lua</a></li><li><a href="#如何安装-lua" class="table-of-contents__link toc-highlight">如何安装 Lua</a><ul><li><a href="#构建-lua" class="table-of-contents__link toc-highlight">构建 Lua</a></li><li><a href="#安装-lua" class="table-of-contents__link toc-highlight">安装 Lua</a></li><li><a href="#定制" class="table-of-contents__link toc-highlight">定制</a></li><li><a href="#在其它系统上构建-lua" class="table-of-contents__link toc-highlight">在其它系统上构建 Lua</a></li></ul></li><li><a href="#对比以往变更" class="table-of-contents__link toc-highlight">对比以往变更</a><ul><li><a href="#主要变化" class="table-of-contents__link toc-highlight">主要变化</a></li><li><a href="#语言" class="table-of-contents__link toc-highlight">语言</a></li><li><a href="#库" class="table-of-contents__link toc-highlight">库</a></li><li><a href="#c-api" class="table-of-contents__link toc-highlight">C API</a></li><li><a href="#lua-独立解释器" class="table-of-contents__link toc-highlight">Lua 独立解释器</a></li></ul></li><li><a href="#license" class="table-of-contents__link toc-highlight">License</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/assets/js/runtime~main.f0785f5a.js"></script>
<script src="/assets/js/main.aae072b5.js"></script>
</body>
</html>