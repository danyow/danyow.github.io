<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-Unity@2022.1 plugin-docs plugin-id-default docs-doc-id-unity/unity-overview/upgrade-guides/Upgrading to Unity 2021.2">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Danyow RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Danyow Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="Danyow JSON Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-141789564-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-141789564-1",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Danyow" href="/opensearch.xml">
<link rel="alternate" type="application/rss+xml" href="/changelog/rss.xml" title="æ—¥å¿— RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/changelog/atom.xml" title="æ—¥å¿— Atom Feed">
<link rel="alternate" type="application/json" href="/changelog/feed.json" title="æ—¥å¿— JSON Feed">
<link rel="icon" href="/img/logo.png">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(37, 194, 160)">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#000">
<link rel="apple-touch-icon" href="/img/logo.png">
<link rel="mask-icon" href="/img/logo.png" color="rgb(62, 204, 94)">
<meta name="msapplication-TileImage" content="/img/logo.png">
<meta name="msapplication-TileColor" content="#000">
<link rel="stylesheet" href="/katex/katex.min.css"><title data-rh="true">Upgrading to Unity 2021.2 | Danyow</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://danyow.github.io/docs/unity-overview/upgrade-guides/upgrade-guide20212"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="Unity@2022.1"><meta data-rh="true" name="docusaurus_tag" content="docs-default-Unity@2022.1"><meta data-rh="true" name="docsearch:version" content="Unity@2022.1"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-Unity@2022.1"><meta data-rh="true" property="og:title" content="Upgrading to Unity 2021.2 | Danyow"><meta data-rh="true" name="description" content="æ³¨æ„ ï¼šæŒ‰ç…§ç‰ˆæœ¬é¡ºåºéµå¾ªæ­¤éƒ¨åˆ†ä¸­çš„å»ºè®®ã€‚ä¾‹å¦‚ï¼Œå¦‚æœéœ€è¦å°†é¡¹ç›®ä» 2018 å‡çº§åˆ° 2020ï¼Œè¯·åœ¨é˜…è¯» 2020 å‡çº§æŒ‡å—ä¹‹å‰é˜…è¯» 2019 å‡çº§æŒ‡å—ï¼Œäº†è§£æ˜¯å¦éœ€è¦è¿›è¡Œä»»ä½•æ›´æ”¹ã€‚"><meta data-rh="true" property="og:description" content="æ³¨æ„ ï¼šæŒ‰ç…§ç‰ˆæœ¬é¡ºåºéµå¾ªæ­¤éƒ¨åˆ†ä¸­çš„å»ºè®®ã€‚ä¾‹å¦‚ï¼Œå¦‚æœéœ€è¦å°†é¡¹ç›®ä» 2018 å‡çº§åˆ° 2020ï¼Œè¯·åœ¨é˜…è¯» 2020 å‡çº§æŒ‡å—ä¹‹å‰é˜…è¯» 2019 å‡çº§æŒ‡å—ï¼Œäº†è§£æ˜¯å¦éœ€è¦è¿›è¡Œä»»ä½•æ›´æ”¹ã€‚"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://danyow.github.io/docs/unity-overview/upgrade-guides/upgrade-guide20212"><link data-rh="true" rel="alternate" href="https://danyow.github.io/docs/unity-overview/upgrade-guides/upgrade-guide20212" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://danyow.github.io/en/docs/unity-overview/upgrade-guides/upgrade-guide20212" hreflang="en"><link data-rh="true" rel="alternate" href="https://danyow.github.io/docs/unity-overview/upgrade-guides/upgrade-guide20212" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://S3KRFC060Q-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.bff76bc0.css">
<link rel="preload" href="/assets/js/runtime~main.4e562e6e.js" as="script">
<link rel="preload" href="/assets/js/main.9af7a4d9.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_BxGa">è·³åˆ°ä¸»è¦å†…å®¹</a></div><div class="announcementBar_yyVl" role="banner"><div class="announcementBarPlaceholder_Il1w"></div><div class="announcementBarContent_KFU1">â­ï¸ If you like, give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/danyow/danyow.github.io">GitHub</a> </div><button type="button" class="clean-btn close announcementBarClose_axA0" aria-label="å…³é—­"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top navbarHideable_FcXi"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Danyow Logo" class="themedImage_aIr_ themedImage--light_DGIu" height="32" width="32"><img src="/img/logo-dark.svg" alt="Danyow Logo" class="themedImage_aIr_ themedImage--dark_RoHN" height="32" width="32"></div><b class="navbar__title">Danyow</b></a><a class="navbar__item navbar__link" href="/blog">åšå®¢</a><a class="navbar__item navbar__link" href="/changelog">æ—¥å¿—</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/animation-section/animation-section">Unity@2022.1</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next">v0 ğŸš§</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/unity-overview/upgrade-guides/upgrade-guide20212">Unity@2022.1</a></li><li><a href="https://62455b8ed3daac0779429a1c--danyow.netlify.app/docs/lua/hello" target="_blank" rel="noopener noreferrer" class="dropdown__link">Lua@5.3<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_GWqj"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a class="dropdown__link" href="/versions">æ‰€æœ‰ç‰ˆæœ¬</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><span><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_NpMu"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg><span>ä¸­æ–‡</span></span></a><ul class="dropdown__menu"><li><a href="/docs/unity-overview/upgrade-guides/upgrade-guide20212" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">ä¸­æ–‡</a></li><li><a href="/en/docs/unity-overview/upgrade-guides/upgrade-guide20212" target="_self" rel="noopener noreferrer" class="dropdown__link">English</a></li><li><a href="https://github.com/danyow/danyow.github.io/issues/3526" target="_blank" rel="noopener noreferrer" class="dropdown__link">Help Us Translate<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_GWqj"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a href="https://github.com/danyow/danyow.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_IT2h colorModeToggle_o_qc"><button class="clean-btn toggleButton_pGki toggleButtonDisabled_vZLo" type="button" disabled="" title="åˆ‡æ¢æµ…è‰²/æš—é»‘æ¨¡å¼ï¼ˆå½“å‰ä¸ºæµ…è‰²æ¨¡å¼ï¼‰" aria-label="åˆ‡æ¢æµ…è‰²/æš—é»‘æ¨¡å¼ï¼ˆå½“å‰ä¸ºæµ…è‰²æ¨¡å¼ï¼‰"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_dYsV"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_WRF1"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_lGmL"><button type="button" class="DocSearch DocSearch-Button" aria-label="æœç´¢"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">æœç´¢</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_zNSk"><button aria-label="å›åˆ°é¡¶éƒ¨" class="clean-btn theme-back-to-top-button backToTopButton_ecpa" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_NEdF"><div class="sidebar_Uz2u sidebarWithHideableNavbar_MFe1"><a tabindex="-1" class="sidebarLogo_iqfm" href="/"><img src="/img/logo.svg" alt="Danyow Logo" class="themedImage_aIr_ themedImage--light_DGIu" height="32" width="32"><img src="/img/logo-dark.svg" alt="Danyow Logo" class="themedImage_aIr_ themedImage--dark_RoHN" height="32" width="32"><b>Danyow</b></a><nav class="menu thin-scrollbar menu_XU2j menuWithAnnouncementBar_vo3y"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/animation-section/animation-section">åŠ¨ç”»</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€ŒåŠ¨ç”»ã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/asset-store/asset-store">Unity Asset Store</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€ŒUnity Asset Storeã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/asset-workflow/asset-workflow">èµ„æºå·¥ä½œæµç¨‹</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œèµ„æºå·¥ä½œæµç¨‹ã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/audio/audio">éŸ³é¢‘</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€ŒéŸ³é¢‘ã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/creating-environments/creating-environments">World building</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€ŒWorld buildingã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/glossary">æœ¯è¯­è¡¨</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/graphics/graphics">å›¾å½¢</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œå›¾å½¢ã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/input/input">è¾“å…¥</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œè¾“å…¥ã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/legacy-topics/legacy-topics">æ—§ç‰ˆä¸»é¢˜</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œæ—§ç‰ˆä¸»é¢˜ã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/navigation/navigation">å¯¼èˆªå’Œå¯»è·¯</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œå¯¼èˆªå’Œå¯»è·¯ã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/open-source-repositories/open-source-repositories">å¼€æºä»£ç ä»“åº“</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œå¼€æºä»£ç ä»“åº“ã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/packages-list/packages-list">Packages and feature sets</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€ŒPackages and feature setsã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/physics-section/physics-section">ç‰©ç†ç³»ç»Ÿ</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œç‰©ç†ç³»ç»Ÿã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/platform-specific/platform-specific">å¹³å°å¼€å‘</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œå¹³å°å¼€å‘ã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/scripting-section/scripting-section">è„šæœ¬</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œè„šæœ¬ã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/search-overview/search-overview">Unity Search</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€ŒUnity Searchã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/uitoolkits/uitoolkits">åˆ›å»ºç”¨æˆ·ç•Œé¢ (UI)</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œåˆ›å»ºç”¨æˆ·ç•Œé¢ (UI)ã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/unet/unet">å¤šç©å®¶å’Œè”ç½‘</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œå¤šç©å®¶å’Œè”ç½‘ã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/unity-manual/unity-manual">Unity User Manual 2022.1 (beta)</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/unity-overview/unity-overview">åœ¨ Unity ä¸­æ“ä½œ</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œåœ¨ Unity ä¸­æ“ä½œã€" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/unity-overview/analysis/analysis">åˆ†æ</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œåˆ†æã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/unity-overview/creating-gameplay/creating-gameplay">åˆ›å»ºæ¸¸æˆç©æ³•</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œåˆ›å»ºæ¸¸æˆç©æ³•ã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/unity-overview/editor-features/editor-features">ç¼–è¾‘å™¨åŠŸèƒ½</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œç¼–è¾‘å™¨åŠŸèƒ½ã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/unity-overview/getting-started-installing-unity/getting-started-installing-unity">å®‰è£… Unity</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œå®‰è£… Unityã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/unity-overview/quickstart-guides/quickstart-guides">Quickstart guides</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€ŒQuickstart guidesã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/unity-overview/upgrade-guides/upgrade-guides">å‡çº§ Unity</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œå‡çº§ Unityã€" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/unity-overview/upgrade-guides/apiupdater">API updater</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/unity-overview/upgrade-guides/upgrade-guide-legacy/upgrade-guide-legacy">æ—§ç‰ˆå‡çº§æŒ‡å—</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œæ—§ç‰ˆå‡çº§æŒ‡å—ã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/unity-overview/upgrade-guides/upgrade-guide2018lts">å‡çº§åˆ° Unity 2018 LTS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/unity-overview/upgrade-guides/upgrade-guide2019lts">å‡çº§åˆ° Unity 2019 LTS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/unity-overview/upgrade-guides/upgrade-guide2020lts">å‡çº§åˆ° Unity 2020 LTS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/unity-overview/upgrade-guides/upgrade-guide20211">Upgrading to Unity 2021.1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/unity-overview/upgrade-guides/upgrade-guide20212">Upgrading to Unity 2021.2</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/unity-overview/using-the-editor/using-the-editor">Unity çš„ç•Œé¢</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€ŒUnity çš„ç•Œé¢ã€" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/unity-services/unity-services">Unity æœåŠ¡</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€ŒUnity æœåŠ¡ã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/unity2d/unity2d">2D</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œ2Dã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/video-player/video-player">è§†é¢‘æ¦‚è¿°</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œè§†é¢‘æ¦‚è¿°ã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/xr/xr">XR</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€ŒXRã€" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="æ”¶èµ·ä¾§è¾¹æ " aria-label="æ”¶èµ·ä¾§è¾¹æ " class="button button--secondary button--outline collapseSidebarButton_Essf"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_bqna"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_vJqy"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_ygLL"><div class="docItemContainer_yJzi"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_nmcO" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/">ğŸ </a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/unity-overview/unity-overview"><span itemprop="name">åœ¨ Unity ä¸­æ“ä½œ</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/unity-overview/upgrade-guides/upgrade-guides"><span itemprop="name">å‡çº§ Unity</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">Upgrading to Unity 2021.2</span><meta itemprop="position" content="3"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">ç‰ˆæœ¬ï¼šUnity@2022.1</span><div class="tocCollapsible_aX8Q theme-doc-toc-mobile tocMobile_By44"><button type="button" class="clean-btn tocCollapsibleButton_Va7b">æœ¬é¡µæ€»è§ˆ</button></div><div class="theme-doc-markdown markdown"><h1>Upgrading to Unity 2021.2</h1><p> <strong>æ³¨æ„</strong> ï¼šæŒ‰ç…§ç‰ˆæœ¬é¡ºåºéµå¾ªæ­¤éƒ¨åˆ†ä¸­çš„å»ºè®®ã€‚ä¾‹å¦‚ï¼Œå¦‚æœéœ€è¦å°†é¡¹ç›®ä» 2018 å‡çº§åˆ° 2020ï¼Œè¯·åœ¨é˜…è¯» 2020 å‡çº§æŒ‡å—ä¹‹å‰é˜…è¯» 2019 å‡çº§æŒ‡å—ï¼Œäº†è§£æ˜¯å¦éœ€è¦è¿›è¡Œä»»ä½•æ›´æ”¹ã€‚</p><p>This page lists changes in the Unity 2021.2 version which might affect existing projects when you upgrade from version 2021.1 beta to 2021.2.</p><h2 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="environment-lighting-ambient-probe-and-skybox-reflection-probe-are-now-automatically-baked">Environment lighting: Ambient probe and skybox reflection probe are now automatically baked<a class="hash-link" href="#environment-lighting-ambient-probe-and-skybox-reflection-probe-are-now-automatically-baked" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>Unityâ€™s Progressive  <strong>Lightmapper</strong>  now automatically generates the ambient probe and the skybox reflection probe for every scene by default. This means that a scene automatically receives environment lighting in accordance with the settings in the  <strong>Environment</strong>  tab in the  <strong>Lighting</strong>  settings panel. The Editor updates the ambient probe and skybox reflection probe every time the environment lighting changes, until you generate lighting. When you bake with the  <strong>Generate Lighting</strong>  control, the Editor stops updating the probes, and only updates them again at the next bake. When you enable the  <strong>Auto Generate</strong>  option, the Editor continues to update the probes every time the environment lighting changes. If you generate lighting and then delete this lighting data by removing the Lighting Data Asset from the project, the Editor automatically generates the ambient probe and skybox reflection probe again.</p><p>There is one situation which requires action when you upgrade a project. This is when you donâ€™t wish to have any Environment lighting contribution in a project which also:</p><ul><li>Doesnâ€™t have a Lighting Data Asset.</li><li>Doesnâ€™t have  <strong>Auto Generate</strong>  enabled.</li><li>Has an Environment contribution set to a color other than black.</li></ul><p>In this situation, navigate to  <strong>Window</strong>  <!-- -->&gt;<!-- -->  <strong>Rendering</strong>  <!-- -->&gt;<!-- -->  <strong>Lighting Settings</strong>  <!-- -->&gt;<!-- -->  <strong>Environment</strong>  and disable the environment contribution of the automatically generated ambient probe and skybox reflection probe by making one of the following changes:</p><ul><li>Option 1: Set the  <strong>Intensity Multiplier</strong>  to 0.</li><li>Option 2: Use a black  <strong>Skybox Material</strong> .</li><li>Option 3: Use a black color in either  <strong>Color</strong>  or  <strong>Gradient</strong>  mode for the  <strong>Source</strong> .</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="particle-system-force-fields">Particle System Force Fields<a class="hash-link" href="#particle-system-force-fields" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>Previously, some Force Field properties behaved differently at different frame rates (or if using the Time Scale in the Time Manager settings)</p><p>The Particle System now uses a reference frame rate of 30fps to serve as the basis for the simulation. If your app runs at a different frame rate, the following settings might behave differently compared to earlier versions of Unity:</p><ul><li>Gravity</li><li>Rotation</li><li>Vector Fields</li></ul><p>If these settings are affected, adjust the strengths of the affected areas to get the desired appearance.</p><h2 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="particle-system-start-delay--rate-over-distance-emission">Particle System Start Delay + Rate over Distance emission<a class="hash-link" href="#particle-system-start-delay--rate-over-distance-emission" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>Previously, Rate over Distance emission ignored the Start Delay setting. Now, if the Start Delay setting is defined, it delays the start for the distance-based emission.</p><p>If this field was previously set, you might need to adjust it.</p><h2 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="buildreport---packedassets">BuildReport - PackedAssets<a class="hash-link" href="#buildreport---packedassets" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>PackedAssets.file has been marked obsolete without a direct replacement. Previously this held an integer signifying a file id or index into BuildReport.files To look up BuildReport files now, use PackedAssets.shortPath.</p><h2 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="terrain-apis-out-of-experimental-wip">Terrain APIs out of experimental (WIP)<a class="hash-link" href="#terrain-apis-out-of-experimental-wip" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>The experimental Terrain APIs have been moved to non-experimental namespaces. There have also been some other minor changes to the Terrain API. If you used the experimental Terrain APIs, use the following APIs instead:</p><ul><li><code>UnityEngine.TerrainTools</code>;</li><li><code>UnityEditor.TerrainTools</code>;</li><li><code>UnityEngine.TerrainUtils</code>;</li></ul><p>Here is the full list of API changes:</p><ul><li>In most cases, <code>UnityEngine.Experimental.TerrainAPI</code> and <code>UnityEditor.Experimental.TerrainAPI</code> are now <code>UnityEngine.TerrainTools</code> and <code>UnityEditor.TerrainTools</code>, respectively. Some runtime APIs have moved to a new <code>UnityEngine.TerrainUtils</code> namespace.</li><li>The <code>GetDesc()</code> of the <code>TerrainPaintTool&amp;lt;T&amp;gt;</code> class was renamed to <code>GetDescription()</code>.</li><li>The <code>TerrainUtility</code> class has moved from <code>UnityEngine.Experimental.TerrainAPI</code> to <code>UnityEngine.TerrainUtils</code>.</li><li>The <code>TerrainUtility.TerrainMap</code> class is no longer an inner-class and belongs to the <code>UnityEngine.TerrainUtils</code> namespace.</li><li>The <code>TerrainMap.TileCoord</code> structure is no longer in the <code>TerrainMap</code> class, has been renamed to <code>TerrainTileCoord</code>, and is now also part of the <code>UnityEngine.TerrainUtils</code> namespace.</li><li>The <code>UnityEditor.Experimental.TerrainAPI.BrushPreviewMode</code> enum has been renamed to <code>TerrainBrushPreviewMode</code> and moved to the <code>UnityEditor.TerrainTools</code> namespace.</li><li>The <code>TerrainPaintUtilityEditor.BuiltinPaintMaterialPasses</code> enum has moved from the <code>TerrainPaintUtilityEditor</code> class and into the <code>UnityEditor.TerrainTools</code> namespace. It has also been renamed to <code>TerrainBuiltinPaintMaterialPasses</code>.</li><li>The three <code>ShowBrushGUI</code> functions in <code>IOnInspectorGUI</code> have been merged into one function with default parameter values instead of the different overloaded functions.</li><li><code>TerrainFilter</code> has been removed. Use <code>System.Predicate&amp;lt;Terrain&amp;gt;</code> instead.</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="texture2dresize-renamed-to-reinitialize">Texture2D.Resize renamed to Reinitialize<a class="hash-link" href="#texture2dresize-renamed-to-reinitialize" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p><code>Texture2D.Resize</code> and its overloads have been renamed to <code>Texture2D.Reinitialize</code>.</p><p>The API Updater should rename this automatically. If not, change any usage of <code>Texture2D.Resize</code> to <code>Texture2D.Reinitialize</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="android-changes">Android changes<a class="hash-link" href="#android-changes" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>A large part of the Android build pipeline is now incremental and Unity removed the following features that were in the previous build pipeline:</p><ul><li>Unity no longer copies Gradle project assets located in  <strong>Assets</strong> / <strong>Plugins</strong> / <strong>Android</strong> / <strong>[<!-- -->res, assets<!-- -->]</strong>  to the Gradle project.<ul><li>Previously you could place Gradle resources in this folder and Unity copied them into the Gradle project. You should now use <a href="/docs/platform-specific/android/android-developing/plugins-for-android/android-aarplugins">AAR or androidlib plug-ins</a> to pass additional Gradle resources to the application.</li><li>If you place project assets in this folder, Unity shows a build error message.</li></ul></li><li>Unity no longer ignores files inside the  <strong>GENERATED BY UNITY. REMOVE THIS COMMENT TO PREVENT OVERWRITING WHEN EXPORTING AGAIN</strong>  comment.<ul><li>Previously Unity wouldnâ€™t overwrite files if you removed this comment. If you didnâ€™t remove the comment, Unity always regenerated build.gradle, manifest, and UnityPlayerActivity files.</li><li>If you want your changes to persist using the new build pipeline, use templates.</li></ul></li><li>When you export an Android project, Unity no longer creates a symbols zip package. The symbols are now available in the  <strong>unityLibrary<!-- -->\<!-- -->symbols</strong>  directory which you can zip. The reason for this change is that not all symbols files are available when you export a project; Gradle produces the <code>libil2cpp.so</code> symbols when it builds the application.</li><li>Changed how Unity checks to see if an obb is compatible with an apk. Both the apk and obb now have unity<!-- -->_<!-- -->obb<!-- -->_<!-- -->guid file inside them and if the contents match between them, Unity treats them as being compatible.</li><li>For custom build scripts that use <a href="https://docs.unity3d.com/cn/2022.1/ScriptReference/BuildOptions.PatchPackage.html" target="_blank" rel="noopener noreferrer">PatchPackage</a>, note that  <strong>Patch/Patch &amp; Run</strong>  now works with all types of assets and doesnâ€™t require a Script Only Build.</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="ui-toolkit---default-scalemode-for-image-changed">UI Toolkit - Default scaleMode for Image changed<a class="hash-link" href="#ui-toolkit---default-scalemode-for-image-changed" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>Default Image.scaleMode was changed from ScaleAndCrop to ScaleToFit.</p><p>The expected behavior for an image is to scale to the size of the element, so we changed the default value of Image.scaleMode to ScaleToFit. If you didnâ€™t override the Image scale mode, some cropped images might shrink to fit the size of the element. If ScaleAndCrop was the expected mode for your images, you can override their style by adding the following value in your UXML file inline style:</p><p><code>-unity-background-scale-mode: scale-and-crop;</code></p><p>You can also create a style class with the override and apply it to images that require ScaleAndCrop.</p><h2 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="mono-upgrade-behavior-changes">Mono upgrade behavior changes<a class="hash-link" href="#mono-upgrade-behavior-changes" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>The underlying C# runtime, Mono, has been upgraded in the latest version. This includes many fixes from the upstream version of Mono, and some notable changes in behavior.</p><ul><li><code>Directory.GetFiles</code> is no longer guaranteed to return a sorted list.<ul><li>Previously, this always returned an alphabetically sorted list of items. If your project needs items to be returned in the same order every time, sort the returned list. For example: var files = <code>Directory.GetFiles(dir).OrderBy(f =&amp;gt; f)</code>;</li></ul></li><li><code>Object.GetHashCode</code> now returns a different value and shouldnâ€™t be relied on as a deterministic hashing algorithm between operating systems.<ul><li>In general, you shouldnâ€™t use the result of <code>GetHashCode</code> outside of the current process, that is donâ€™t serialize it or expect it to be the same the next time the code runs in a new process. Unity recommends using a deterministic hashing algorithm such as MD5.</li></ul></li><li>Some bug fixes have resulted in new exceptions being thrown. Additionally, the content of some exception messages have changed.<ul><li>This new behavior will be particularly noticeable in automated testing scenarios and may require changing the expected behavior if the tests are parsing the logs for specific exception messages.</li></ul></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="adaptive-performance">Adaptive Performance<a class="hash-link" href="#adaptive-performance" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>Version 3.0 of the Adaptive Performance package is now available. For information on how to upgrade to version 3.0, see the <a href="https://docs.unity3d.com/Packages/com.unity.adaptiveperformance@3.0/manual/upgrade-guides.html" target="_blank" rel="noopener noreferrer">Adaptive Performance upgrade guides</a>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="rendertexture-depthstencilformat">RenderTexture DepthStencilFormat<a class="hash-link" href="#rendertexture-depthstencilformat" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>Previously, if you set the <a href="https://docs.unity3d.com/2021.2/Documentation/ScriptReference/RenderTexture-depth.html" target="_blank" rel="noopener noreferrer"><code>RenderTexture.depth</code></a> property to 32-bit, you could get D24<!-- -->_<!-- -->S8 depending on the platform. Now if you set it to 32-bit, you get D32<!-- -->_<!-- -->S8 with 32-bit for the depth component if that format is supported on the current platform. However, this doubles the memory usage for that depth buffer.</p><p>The new <a href="https://docs.unity3d.com/2021.2/Documentation/ScriptReference/RenderTexture-depthStencilFormat.html" target="_blank" rel="noopener noreferrer"><code>RenderTexture.depthStencilFormat</code></a> property returns the format that the graphics API uses to create the resource in video memory. You can also use this property to request a specific format. However, not all platforms support all depth stencil formats. When you set the <code>DepthStencilFormat</code> property to an unsupported format, Unity automatically selects a compatible format that has the equal or greater amount of bits for the depth and stencil components.</p><h3 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="upgrading">Upgrading<a class="hash-link" href="#upgrading" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>The RenderTexture asset now serializes the depth stencil format that you selected. If you use an API that takes a number of bits instead of a format, these bits get mapped to a format and that format is serialized. RenderTexture assets from previous versions that had the depth set to more than 16-bits are automatically upgraded to use D24<!-- -->_<!-- -->S8.</p><p>On some platforms (for example Windows) that use the DirectX graphics API, this results in a format with fewer depth bits because the graphics backend selects the D32<!-- -->_<!-- -->S8 format internally if you set bits<!-- -->&gt;<!-- -->16. To ensure consistent upgrades across all platforms, D24<!-- -->_<!-- -->S8 is used on all platforms for the automatic upgrader. However, this might introduce visual artifacts in the render output of your project if you have RenderTexture assets in your project. Review these assets and change the depth stencil format to D32<!-- -->_<!-- -->S8 when needed. The following issues might occur:</p><ul><li>The memory size might increase for the RenderTextures that you use. However, the memory reported is now correct.</li><li>Now that setting the depth property to 32-bit gives you a 32-bit depth component, the memory usage increases. To avoid this, set the bits to 24 and use D24<!-- -->_<!-- -->S8 if that is supported on your platform.</li><li>If a platform doesnâ€™t support D24<!-- -->_<!-- -->S8, Unity falls back to the compatible format D32<!-- -->_<!-- -->S8 by default. To prevent this, in the Inspector window, disable the <a href="/docs/graphics/textures/class-render-texture">Enable Compatible Format</a> property on an asset. If Unity doesnâ€™t support the format D32<!-- -->_<!-- -->S8 and it canâ€™t fall back, you see the error message â€œRenderTexture.Create failed: depth/stencil format unsupported. There is no compatible format on this platform or this fallback to a compatible format is disabled in the import inspector.â€. In most cases, to fix the issue you can turn on  <strong>Enable Compatible Format</strong> .</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="graphics-formats-depthauto-shadowauto-and-videoauto-are-deprecated">Graphics formats DepthAuto, ShadowAuto and VideoAuto are deprecated<a class="hash-link" href="#graphics-formats-depthauto-shadowauto-and-videoauto-are-deprecated" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>The following graphics formats have now been deprecated:</p><ul><li>DepthAuto</li><li>ShadowAuto</li><li>VideoAuto</li></ul><p>These â€œAutoâ€ formats are unclear about the exact format thatâ€™s used and might vary by platform.</p><p>The steps to remove the use of these deprecated formats depends on the format and use case.</p><h4 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="for-videoauto">For VideoAuto<a class="hash-link" href="#for-videoauto" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h4><p>To get the current platformâ€™s automatic video format, use <code>SystemInfo.GetGraphicsFormat(DefaultFormat.Video)</code>.</p><h4 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="for-depthautoshadowauto-used-to-indicate-a-depth-only-render-texture">For DepthAuto/ShadowAuto used to indicate a depth-only render texture.<a class="hash-link" href="#for-depthautoshadowauto-used-to-indicate-a-depth-only-render-texture" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h4><p>The GraphicsFormat API often uses DepthAuto or ShadowAuto to create render textures with depth-only rendering, and no color buffer. Examples of this use case are:</p><ul><li><code>renderTextureDescriptor.graphicsFormat = GraphicsFormat.ShadowAuto</code></li><li><code>RenderTexture.GetTemporary(width, height, bits, GraphicsFormat.ShadowAuto)</code></li></ul><p>To indicate depth-only (non-color) rendering, use GraphicsFormat.None as the new color format. <code>renderTextureDescriptor.graphicsFormat = GraphicsFormat.None;</code></p><p>If you used ShadowAuto, set the shadowSamplingMode of your RenderTextureDescriptor to ShadowSamplingMode.CompareDepths to enable depth-compare sampling on the depth texture, and change the code to use an overload that takes a RenderTextureDescriptor. <code>renderTextureDescriptor.shadowSamplingMode = ShadowSamplingMode.CompareDepths;</code></p><h4 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="for-depthautoshadowauto-in-other-situations">For DepthAuto/ShadowAuto in other situations<a class="hash-link" href="#for-depthautoshadowauto-in-other-situations" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h4><p>In some situations the DepthAuto/ShadowAuto formats represented an â€œautomatically selected depth format appropriate for the current platformâ€. To replace the deprecated values in this case, use <code>SystemInfo.GetGraphicsFormat(DefaultFormat.Depth/Shadow)</code></p><h2 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="webgl-updated-emscripten-to-2019">WebGL: Updated Emscripten to 2.0.19<a class="hash-link" href="#webgl-updated-emscripten-to-2019" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>The asm.js Linker target that was available for advanced users is no longer available.</p><ul><li>In Unity 2021.2, the underlying Emscripten compiler used by the WebGL platform was updated to version 2.0.19. This upgraded the native code object file format, and therefore requires recompiling all native code plugins (C/C++ code plugins) in a project. If you are using closed source 3rd-party plugins from Unity Asset Store, for example, remember to ask the author for an updated version for Unity 2021.2.</li><li>The Emscripten runtime JavaScript function <code>Pointer_stringify()</code>is now deprecated. Instead, call the function <code>UTF8ToString()</code> to marshal a UTF8-encoded null-terminated C string from the WebAssembly heap to a JavaScript string.</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="progressive-gpu-lightmapper-dropped-support-for-cpu-opencl-devices">Progressive GPU Lightmapper dropped support for CPU OpenCL devices<a class="hash-link" href="#progressive-gpu-lightmapper-dropped-support-for-cpu-opencl-devices" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>The Progressive GPU Lightmapper no longer supports CPU OpenCL devices. If no supported GPU is found but a CPU OpenCL device is detected, a warning message informs you that the device is skipped and falls back to the Progressive CPU Lightmapper. The Progressive CPU Lightmapper offers better performance for CPU-based computation of lightmaps. This change of behavior will happen automatically and lightmaps should be computed as expected.</p><h2 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="onpostprocessallassets-behavior-changes"><a href="https://docs.unity3d.com/2021.2/Documentation/ScriptReference/AssetPostprocessor.OnPostprocessAllAssets.html" target="_blank" rel="noopener noreferrer">OnPostprocessAllAssets behavior changes</a><a class="hash-link" href="#onpostprocessallassets-behavior-changes" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>When Unity calls <code>InitializeOnLoad</code> methods during the asset import process, asset loading can fail. During asset import, the asset database is in an update state and Unity canâ€™t determine which assets have already been imported. <code>InitializeOnLoad</code> methods canâ€™t load assets that havenâ€™t been imported.</p><p>To improve the asset import process, the <code>OnPostprocessAllAssets</code> callback has been enhanced. In particular, the <code>OnPostprocessAllAssets</code> callback:</p><ul><li>Can perform initialization after a domain reload, when the asset database is guaranteed to be in a ready state.</li><li>Contains the <code>didDomainReload</code> parameter, which is set to true if the domain has reloaded.</li><li>Supports asset operations. This includes asset loading, which behaves in the same way as loading assets via a menu item.</li><li>Has moved out of the asset database importing loop. Callback processing is postponed until asset import is complete.</li></ul><p>Move any domain-related initialization logic that requires asset operations to the <code>OnPostprocessAllAsset</code> callback; do not perform asset operations inside <code>InitializeOnLoad</code> methods.</p><p>The following behavior change code examples show how asset operations were previously postponed.</p><p>Example 1:</p><div class="codeBlockContainer_CBWl theme-code-block"><div class="codeBlockContent_vhl8" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_w2AC thin-scrollbar"><code class="codeBlockLines_OfWd"><span class="token-line" style="color:#393A34"><span class="token plain">public class AssetPostprocessorTester1 : AssetPostprocessor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    static void OnPostprocessAllAssets(string[] importedAssets, string[] deletedAssets, string[] movedAssets, string[] movedFromAssetPaths)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var assetPath = &quot;Assets/hello.txt&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (File.Exists(assetPath))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            var txtObj = AssetDatabase.LoadAssetAtPath&amp;lt;TextAsset&amp;gt;(&quot;Assets/hello.txt&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            AssetDatabase.DeleteAsset(&quot;Assets/hello.txt&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (txtObj == null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Debug.Log(&quot;New Behaviour: Asset object is unloaded&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Debug.Log(&quot;Old Behaviour: Asset is loaded for deleted asset!!&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="copyButton_R7VQ clean-btn"><span class="copyButtonIcons_Uqyx" aria-hidden="true"><svg class="copyButtonIcon_CtfL" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_Mq1p" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Example 2:</p><div class="codeBlockContainer_CBWl theme-code-block"><div class="codeBlockContent_vhl8" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_w2AC thin-scrollbar"><code class="codeBlockLines_OfWd"><span class="token-line" style="color:#393A34"><span class="token plain"> public class AssetPostprocessorTester2 : AssetPostprocessor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    static void OnPostprocessAllAssets(string[] importedAssets, string[] deletedAssets, string[] movedAssets, string[] movedFromAssetPaths)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var assetPath = &quot;Assets/SomeText.txt&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (!File.Exists(assetPath))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            File.WriteAllText(assetPath, &quot;hello world&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            AssetDatabase.ImportAsset(assetPath);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            var txtObj = AssetDatabase.LoadAssetAtPath&amp;lt;TextAsset&amp;gt;(assetPath);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (txtObj == null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Debug.Log(&quot;Old Behaviour: Asset hasn&#x27;t been imported yet&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Debug.Log(&quot;New Behaviour: Asset is imported and loaded&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="copyButton_R7VQ clean-btn"><span class="copyButtonIcons_Uqyx" aria-hidden="true"><svg class="copyButtonIcon_CtfL" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_Mq1p" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>The following example has the new <code>OnPostprocessAllAssets</code> variant with the <code>didDomainReload</code> parameter:</p><div class="codeBlockContainer_CBWl theme-code-block"><div class="codeBlockContent_vhl8" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_w2AC thin-scrollbar"><code class="codeBlockLines_OfWd"><span class="token-line" style="color:#393A34"><span class="token plain">static void OnPostprocessAllAssets(string[] importedAssets, string[] deletedAssets, string[] movedAssets, string[] movedFromAssetPaths, bool didDomainReload)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (didDomainReload)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Debug.Log(&quot;Domain has been reloaded&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Debug.Log(&quot;Domain did not reload during import&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="copyButton_R7VQ clean-btn"><span class="copyButtonIcons_Uqyx" aria-hidden="true"><svg class="copyButtonIcon_CtfL" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_Mq1p" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>All domain reloads are now processed inside the asset database.</p><p><code>OnPostprocessAllAssets</code> now works better with asset operations, but any processing in this callback increases asset database refresh and domain reload time. <code>InitializeOnLoad</code> methods also add to domain reload time. It is best practice to minimize processing in these callbacks to improve Editor responsiveness between iterations.</p><h2 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="shader-keyword-system-improvements">Shader keyword system improvements<a class="hash-link" href="#shader-keyword-system-improvements" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>The shader keyword system now allows up to 65534 local keywords per shader or compute shader and 232â€“2 global keywords per project. All keywords you declare in a shader or compute shader are now local to this shader. Keywords you declare in a directive with the <!-- -->_<!-- -->local suffix arenâ€™t affected by the state of global keywords.</p><p>ç¤ºä¾‹ï¼š</p><p>A pass in a shader declares the following keywords:</p><ul><li><code>#pragma shader_feature FOO BAR</code></li><li><code>#pragma shader_feature_local BOO BAZ</code></li></ul><p>When using this pass, keywords FOO and BAR are enabled if theyâ€™re enabled either globally or on the material. Keywords BOO and BAZ are only enabled if theyâ€™re enabled on the material.</p><h2 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="unity-supports-net-standard-21-apis">Unity supports .NET Standard 2.1 APIs<a class="hash-link" href="#unity-supports-net-standard-21-apis" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>Unity now supports many additional APIs in the .NET base class libraries, including all APIs in the .NET Standard 2.1 API. Your project might fail to compile if any of your code has conflicts with new APIs.</p><p>To avoid errors when you upgrade projects created in previous versions of Unity, check and update your code to ensure that there are no conflicts with types and methods that are now available in .NET Standard 2.1.</p><p>Sources of conflict include the following:</p><ul><li>ambiguous references</li><li>extension methods</li><li>precompiled assemblies</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="resolve-ambiguous-references">Resolve ambiguous references<a class="hash-link" href="#resolve-ambiguous-references" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h4><p>If your code implements types or methods with a name that conflicts with types or methods that .NET Standard 2.1 adds, your code fails to compile. Name conflicts can lead to C# compiler errors due to ambiguous references.</p><p>For example, if you add a type named <code>MyCompany.MyCode.Range</code> to your projectâ€™s code, this might conflict with the existing <code>System.Range</code> type. Code that contains both <code>using System;</code> and <code>using MyCompany;</code> statements fails to compile.</p><p>To prevent errors, fully specify the namespace in the C# code for any types that have conflicting names.</p><h4 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="resolve-conflicting-extension-methods">Resolve conflicting extension methods<a class="hash-link" href="#resolve-conflicting-extension-methods" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h4><p>If your existing code has an extension method that .NET Standard 2.1 now implements on a type directly, you can choose to rename your extension methods or to use the methods implemented by the base class library.</p><p>For example, code in your project might implement an extension method named <code>CopyTo</code> on the <code>ArraySegment</code> type. In .NET Standard 2.1, <code>ArraySegment</code> has a built-in <code>CopyTo</code> method. You can choose to rename your <code>CopyTo</code> extension method, or eliminate it entirely and use the built-in one.</p><h4 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="resolve-conflicting-assemblies">Resolve conflicting assemblies<a class="hash-link" href="#resolve-conflicting-assemblies" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h4><p>If your project uses precompiled assemblies (that is, managed plugins) that implement types and methods that are now part of the base class library, then remove these assemblies from your project and use the built-in implementations.</p><p>For example, in previous versions of Unity, you needed to use the <code>System.Memory.dll</code> assembly from NuGet to access the <code>System.Span</code> value type. Now, .NET Standard 2.1 provides <code>System.Span</code> in the base class library. If you try to use the <code>System.Memory.dll</code> managed plugin in Unity 2021.2, the project fails to build.</p><h2 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="windows-xr-plugin-removed">Windows XR plugin removed<a class="hash-link" href="#windows-xr-plugin-removed" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>Microsoft has deprecated the Windows XR plugin and now supports Windows Mixed Reality (WMR) features and devices through the OpenXR plugin.</p><ul><li>The Windows XR plugin has been removed as of Unity 2021.2.</li><li>When you open an existing project in Unity 2021.2, the update process removes the Windows XR plugin, if present.</li><li>To continue to use the project for Windows Mixed Reality, you must enable the Unity OpenXR plugin.</li><li>Depending on which features you are using, you must also install Microsoftâ€™s Mixed Reality OpenXR support plugin and possibly additional tools from the Microsoft Mixed Reality Toolkit.</li></ul><p>To upgrade to the Unity OpenXR plugin:</p><ol><li>Open the  <strong>Project Settings</strong>  window.</li><li>In the  <strong>XR Plug-in Management</strong>  section, enable  <strong>OpenXR</strong>  in the  <strong>Plug-in Providers</strong>  list. If needed, Unity downloads and installs the OpenXR plugin.</li></ol><p>Once the OpenXR plugin is enabled, you can use the  <strong>Mixed Reality Feature Tool</strong>  provided by Microsoft to install the required supporting packages.</p><p>To install or update WMR features, tools, and samples:</p><ol><li>Download and run the <a href="https://docs.microsoft.com/en-us/windows/mixed-reality/develop/unity/welcome-to-mr-feature-tool" target="_blank" rel="noopener noreferrer">Mixed Reality Feature Tool</a>.</li><li>Choose the Unity Project to update and click Discover Features.</li><li>Under Platform Support, select the Mixed Reality OpenXR Plugin.</li><li>Select any additional features you wish to add.</li><li>Click Get features.</li><li>Click Import and then Approve to complete the process.</li><li>Return to the XR Plug-in Management section of your Unity Project Settings and enable and configure the added features.</li></ol><p>For more information about setting up new and updated Unity projects to use Windows Mixed Reality, see <a href="https://docs.microsoft.com/en-us/windows/mixed-reality/develop/unity/xr-project-setup?tabs=openxr" target="_blank" rel="noopener noreferrer">Setting up your XR configuration</a> on Microsoftâ€™s documentation site.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://crowdin.com/project/docusaurus-v2/zh-Hans" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_OMbO" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>ç¼–è¾‘æ­¤é¡µ</a></div><div class="col lastUpdated_vA0S"><span class="theme-last-updated">æœ€å<!-- -->ç”± <b>danyow</b> <!-- -->äº <b><time datetime="2022-03-31T15:56:20.000Z">2022/3/31</time></b> <!-- -->æ›´æ–°</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="æ–‡æ¡£åˆ†é¡µå¯¼èˆª"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/unity-overview/upgrade-guides/upgrade-guide20211"><div class="pagination-nav__sublabel">ä¸Šä¸€é¡µ</div><div class="pagination-nav__label">Upgrading to Unity 2021.1</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/unity-overview/using-the-editor/using-the-editor"><div class="pagination-nav__sublabel">ä¸‹ä¸€é¡µ</div><div class="pagination-nav__label">Unity çš„ç•Œé¢</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_jWtb thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#environment-lighting-ambient-probe-and-skybox-reflection-probe-are-now-automatically-baked" class="table-of-contents__link toc-highlight">Environment lighting: Ambient probe and skybox reflection probe are now automatically baked</a></li><li><a href="#particle-system-force-fields" class="table-of-contents__link toc-highlight">Particle System Force Fields</a></li><li><a href="#particle-system-start-delay--rate-over-distance-emission" class="table-of-contents__link toc-highlight">Particle System Start Delay + Rate over Distance emission</a></li><li><a href="#buildreport---packedassets" class="table-of-contents__link toc-highlight">BuildReport - PackedAssets</a></li><li><a href="#terrain-apis-out-of-experimental-wip" class="table-of-contents__link toc-highlight">Terrain APIs out of experimental (WIP)</a></li><li><a href="#texture2dresize-renamed-to-reinitialize" class="table-of-contents__link toc-highlight">Texture2D.Resize renamed to Reinitialize</a></li><li><a href="#android-changes" class="table-of-contents__link toc-highlight">Android changes</a></li><li><a href="#ui-toolkit---default-scalemode-for-image-changed" class="table-of-contents__link toc-highlight">UI Toolkit - Default scaleMode for Image changed</a></li><li><a href="#mono-upgrade-behavior-changes" class="table-of-contents__link toc-highlight">Mono upgrade behavior changes</a></li><li><a href="#adaptive-performance" class="table-of-contents__link toc-highlight">Adaptive Performance</a></li><li><a href="#rendertexture-depthstencilformat" class="table-of-contents__link toc-highlight">RenderTexture DepthStencilFormat</a><ul><li><a href="#upgrading" class="table-of-contents__link toc-highlight">Upgrading</a></li></ul></li><li><a href="#graphics-formats-depthauto-shadowauto-and-videoauto-are-deprecated" class="table-of-contents__link toc-highlight">Graphics formats DepthAuto, ShadowAuto and VideoAuto are deprecated</a></li><li><a href="#webgl-updated-emscripten-to-2019" class="table-of-contents__link toc-highlight">WebGL: Updated Emscripten to 2.0.19</a></li><li><a href="#progressive-gpu-lightmapper-dropped-support-for-cpu-opencl-devices" class="table-of-contents__link toc-highlight">Progressive GPU Lightmapper dropped support for CPU OpenCL devices</a></li><li><a href="#onpostprocessallassets-behavior-changes" class="table-of-contents__link toc-highlight">OnPostprocessAllAssets behavior changes</a></li><li><a href="#shader-keyword-system-improvements" class="table-of-contents__link toc-highlight">Shader keyword system improvements</a></li><li><a href="#unity-supports-net-standard-21-apis" class="table-of-contents__link toc-highlight">Unity supports .NET Standard 2.1 APIs</a></li><li><a href="#windows-xr-plugin-removed" class="table-of-contents__link toc-highlight">Windows XR plugin removed</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/assets/js/runtime~main.4e562e6e.js"></script>
<script src="/assets/js/main.9af7a4d9.js"></script>
</body>
</html>