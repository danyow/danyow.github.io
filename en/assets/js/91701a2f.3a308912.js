"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[90946],{35318:function(t,e,n){n.d(e,{Zo:function(){return c},kt:function(){return y}});var o=n(27378);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e){if(null==t)return{};var n,o,r=function(t,e){if(null==t)return{};var n,o,r={},i=Object.keys(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var l=o.createContext({}),a=function(t){var e=o.useContext(l),n=e;return t&&(n="function"==typeof t?t(e):u(u({},e),t)),n},c=function(t){var e=a(t.components);return o.createElement(l.Provider,{value:e},t.children)},s={inlineCode:"code",wrapper:function(t){var e=t.children;return o.createElement(o.Fragment,{},e)}},p=o.forwardRef((function(t,e){var n=t.components,r=t.mdxType,i=t.originalType,l=t.parentName,c=d(t,["components","mdxType","originalType","parentName"]),p=a(n),y=r,m=p["".concat(l,".").concat(y)]||p[y]||s[y]||i;return n?o.createElement(m,u(u({ref:e},c),{},{components:n})):o.createElement(m,u({ref:e},c))}));function y(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var i=n.length,u=new Array(i);u[0]=p;var d={};for(var l in e)hasOwnProperty.call(e,l)&&(d[l]=e[l]);d.originalType=t,d.mdxType="string"==typeof t?t:r,u[1]=d;for(var a=2;a<i;a++)u[a]=n[a];return o.createElement.apply(null,u)}return o.createElement.apply(null,n)}p.displayName="MDXCreateElement"},61990:function(t,e,n){n.r(e),n.d(e,{assets:function(){return a},contentTitle:function(){return d},default:function(){return p},frontMatter:function(){return u},metadata:function(){return l},toc:function(){return c}});n(27378);var o=n(35318);function r(){return r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},r.apply(this,arguments)}function i(t,e){if(null==t)return{};var n,o,r=function(t,e){if(null==t)return{};var n,o,r={},i=Object.keys(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}const u={id:"\u5bfc\u51fa\u524d\u548c\u5bfc\u51fa\u540e\u65b9\u6cd5",slug:"/unity-services/unity-cloud-build/unity-cloud-build-advanced-options/unity-cloud-build-pre-and-post-export-methods"},d="\u5bfc\u51fa\u524d\u548c\u5bfc\u51fa\u540e\u65b9\u6cd5",l={unversionedId:"unity/unity-services/unity-cloud-build/unity-cloud-build-advanced-options/\u5bfc\u51fa\u524d\u548c\u5bfc\u51fa\u540e\u65b9\u6cd5",id:"version-Unity@2022.1/unity/unity-services/unity-cloud-build/unity-cloud-build-advanced-options/\u5bfc\u51fa\u524d\u548c\u5bfc\u51fa\u540e\u65b9\u6cd5",title:"\u5bfc\u51fa\u524d\u548c\u5bfc\u51fa\u540e\u65b9\u6cd5",description:"The pre- and post-export methods let you trigger actions before and after your Unity Project is built. These methods must exist as code in your Project in the Assets/Editor folder. If the Editor folder doesn\u2019t exist in your directory, create it.",source:"@site/versioned_docs/version-Unity@2022.1/unity/unity-services/unity-cloud-build/unity-cloud-build-advanced-options/unity-cloud-build-pre-and-post-export-methods.md",sourceDirName:"unity/unity-services/unity-cloud-build/unity-cloud-build-advanced-options",slug:"/unity-services/unity-cloud-build/unity-cloud-build-advanced-options/unity-cloud-build-pre-and-post-export-methods",permalink:"/en/docs/unity-services/unity-cloud-build/unity-cloud-build-advanced-options/unity-cloud-build-pre-and-post-export-methods",editUrl:"https://github.com/danyow/danyow.github.io/edit/main/docs/unity/unity-services/unity-cloud-build/unity-cloud-build-advanced-options/unity-cloud-build-pre-and-post-export-methods.md",tags:[],version:"Unity@2022.1",lastUpdatedBy:"danyow",lastUpdatedAt:1648742180,formattedLastUpdatedAt:"3/31/2022",frontMatter:{id:"\u5bfc\u51fa\u524d\u548c\u5bfc\u51fa\u540e\u65b9\u6cd5",slug:"/unity-services/unity-cloud-build/unity-cloud-build-advanced-options/unity-cloud-build-pre-and-post-export-methods"},sidebar:"unity",previous:{title:"\u5305\u542b\u7279\u5b9a\u573a\u666f",permalink:"/en/docs/unity-services/unity-cloud-build/unity-cloud-build-advanced-options/unity-cloud-build-including-specific-scenes"},next:{title:"Xcode framework",permalink:"/en/docs/unity-services/unity-cloud-build/unity-cloud-build-advanced-options/unity-cloud-build-xcode-frameworks"}},a={},c=[{value:"Pre-export method name",id:"pre-export-method-name",level:2},{value:"Post-export method name",id:"post-export-method-name",level:2}],s={toc:c};function p(t){var{components:e}=t,n=i(t,["components"]);return(0,o.kt)("wrapper",r({},s,n,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("h1",r({},{id:"\u5bfc\u51fa\u524d\u548c\u5bfc\u51fa\u540e\u65b9\u6cd5"}),"\u5bfc\u51fa\u524d\u548c\u5bfc\u51fa\u540e\u65b9\u6cd5"),(0,o.kt)("p",null,"The pre- and post-export methods let you trigger actions before and after your Unity Project is built. These methods must exist as code in your Project in the ",(0,o.kt)("em",{parentName:"p"},"Assets/Editor")," folder. If the Editor folder doesn\u2019t exist in your directory, create it."),(0,o.kt)("p",null," ",(0,o.kt)("strong",{parentName:"p"},"Important")," : The UnityEngine.CloudBuild.BuildManifestObject class is only available when running in Cloud Build (as in, not locally). To compile your code locally, wrap your pre- and post-export methods in an ",(0,o.kt)("inlineCode",{parentName:"p"},"#if UNITY_CLOUD_BUILD")," block."),(0,o.kt)("p",null,"You set pre- and post-export methods in the build target\u2019s ",(0,o.kt)("a",r({parentName:"p"},{href:"/en/docs/unity-services/unity-cloud-build/unity-cloud-build-advanced-options/unity-cloud-build-advanced-options"}),"Advanced Options"),"."),(0,o.kt)("p",null,(0,o.kt)("img",r({parentName:"p"},{src:"https://docs.unity3d.com/cn/2022.1/uploads/Main/UnityCloudBuildExportMethods-AdvancedOptionsEdit.png",alt:"The Edit Advanced Options screen"}))),(0,o.kt)("p",null,"The Edit Advanced Options screen"),(0,o.kt)("h2",r({},{id:"pre-export-method-name"}),"Pre-export method name"),(0,o.kt)("p",null,"To use a pre-export method, create a public static method in your Unity Project that contains the code you want executed before the Unity Editor exports your Project."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"public static void PreExport()")),(0,o.kt)("p",null,"\u901a\u8fc7\u5c06 BuildManifestObject \u5bf9\u8c61\u6307\u5b9a\u4e3a\u65b9\u6cd5\u7b7e\u540d\u4e2d\u7684\u53c2\u6570\uff0c\u5373\u53ef\u4f7f Cloud Build \u5c06\u5f53\u524d\u7f16\u8bd1\u7684\u7f16\u8bd1\u6e05\u5355\u4f20\u9012\u5230\u5bfc\u51fa\u524d\u65b9\u6cd5\u3002\u968f\u540e\u53ef\u4ee5\u5728\u5bfc\u51fa\u9879\u76ee\u4e4b\u524d\u66f4\u6539\u9879\u76ee\u8bbe\u7f6e\u6216  ",(0,o.kt)("strong",{parentName:"p"},"Player"),"  \u8bbe\u7f6e\u3002"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"public static void PreExport(UnityEngine.CloudBuild.BuildManifestObject manifest)")),(0,o.kt)("p",null,"Unity Cloud Build \u8c03\u7528\u8be5\u65b9\u6cd5\u65f6\uff0c\u5b83\u4f1a\u5c06 BuildManifestObject \u5bf9\u8c61\u4f5c\u4e3a\u53ef\u9009\u53c2\u6570\u4f20\u9012\uff08\u5176\u4e2d\u7684 BuildManifestObject \u662f\u5f53\u524d\u7f16\u8bd1\u7684\u7f16\u8bd1\u6e05\u5355\uff09\u3002"),(0,o.kt)("p",null,"\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 ",(0,o.kt)("a",r({parentName:"p"},{href:"/en/docs/unity-services/unity-cloud-build/unity-cloud-build-manifest/unity-cloud-build-manifest-as-scriptable-object"}),"ScriptableObject \u683c\u5f0f\u7684\u7f16\u8bd1\u6e05\u5355"),"\u3002"),(0,o.kt)("h2",r({},{id:"post-export-method-name"}),"Post-export method name"),(0,o.kt)("p",null,"To use the post-export method, create a public static method in your Unity Project that contains the code you want executed after the Unity Editor exports your Project."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"public static void PostExport(string exportPath)")),(0,o.kt)("p",null,"Unity Cloud Build \u8c03\u7528\u8be5\u65b9\u6cd5\u65f6\uff0c\u5b83\u5c06\u4f20\u9012\u5b57\u7b26\u4e32\uff1a"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"For non-iOS build targets, the string contains the path to the exported Project.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"For iOS Projects, the string contains the path to the exported Xcode project. You can use the path to locate the exported Xcode Project to perform additional preprocessing before Xcode is called to complete the build process."),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Note")," : If you\u2019ve tagged any methods in your code with the Unity ",(0,o.kt)("a",r({parentName:"p"},{href:"https://docs.unity3d.com/cn/2022.1/ScriptReference/Callbacks.PostProcessBuildAttribute.html"}),"PostProcessBuildAttribute"),", those methods are executed before any methods configured as post-export methods in Unity Cloud Build."))))}p.isMDXComponent=!0}}]);