<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-Unity@2022.1 plugin-docs plugin-id-default docs-doc-id-unity/unity-services/udp/udp-service-interoperability/Using UDP with other services">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<link rel="alternate" type="application/rss+xml" href="/en/blog/rss.xml" title="Danyow RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/en/blog/atom.xml" title="Danyow Atom Feed">
<link rel="alternate" type="application/json" href="/en/blog/feed.json" title="Danyow JSON Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-141789564-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-141789564-1",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Danyow" href="/en/opensearch.xml">
<link rel="alternate" type="application/rss+xml" href="/en/changelog/rss.xml" title="日志 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/en/changelog/atom.xml" title="日志 Atom Feed">
<link rel="alternate" type="application/json" href="/en/changelog/feed.json" title="日志 JSON Feed">
<link rel="icon" href="/en/img/logo.png">
<link rel="manifest" href="/en/manifest.json">
<meta name="theme-color" content="rgb(37, 194, 160)">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#000">
<link rel="apple-touch-icon" href="/en/img/logo.png">
<link rel="mask-icon" href="/en/img/logo.png" color="rgb(62, 204, 94)">
<meta name="msapplication-TileImage" content="/en/img/logo.png">
<meta name="msapplication-TileColor" content="#000">
<link rel="stylesheet" href="/katex/katex.min.css"><title data-rh="true">Using UDP with other services | Danyow</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://danyow.github.io/en/docs/unity-services/udp/udp-service-interoperability/udp-service-interoperability"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="Unity@2022.1"><meta data-rh="true" name="docusaurus_tag" content="docs-default-Unity@2022.1"><meta data-rh="true" name="docsearch:version" content="Unity@2022.1"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-Unity@2022.1"><meta data-rh="true" property="og:title" content="Using UDP with other services | Danyow"><meta data-rh="true" name="description" content="Google Play games services in UDP builds"><meta data-rh="true" property="og:description" content="Google Play games services in UDP builds"><link data-rh="true" rel="icon" href="/en/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://danyow.github.io/en/docs/unity-services/udp/udp-service-interoperability/udp-service-interoperability"><link data-rh="true" rel="alternate" href="https://danyow.github.io/docs/unity-services/udp/udp-service-interoperability/udp-service-interoperability" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://danyow.github.io/en/docs/unity-services/udp/udp-service-interoperability/udp-service-interoperability" hreflang="en"><link data-rh="true" rel="alternate" href="https://danyow.github.io/docs/unity-services/udp/udp-service-interoperability/udp-service-interoperability" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://S3KRFC060Q-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/en/assets/css/styles.bff76bc0.css">
<link rel="preload" href="/en/assets/js/runtime~main.8b3186ef.js" as="script">
<link rel="preload" href="/en/assets/js/main.4cfd5153.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_BxGa">Skip to main content</a></div><div class="announcementBar_yyVl" role="banner"><div class="announcementBarPlaceholder_Il1w"></div><div class="announcementBarContent_KFU1">⭐️ If you like, give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/danyow/danyow.github.io">GitHub</a> </div><button type="button" class="clean-btn close announcementBarClose_axA0" aria-label="Close"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top navbarHideable_FcXi"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/en/"><div class="navbar__logo"><img src="/en/img/logo.svg" alt="Danyow Logo" class="themedImage_aIr_ themedImage--light_DGIu" height="32" width="32"><img src="/en/img/logo-dark.svg" alt="Danyow Logo" class="themedImage_aIr_ themedImage--dark_RoHN" height="32" width="32"></div><b class="navbar__title">Danyow</b></a><a class="navbar__item navbar__link" href="/en/blog">博客</a><a class="navbar__item navbar__link" href="/en/changelog">日志</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/en/docs/animation-section/animation-section">Unity@2022.1</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/en/docs/next">v0 🚧</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/en/docs/unity-services/udp/udp-service-interoperability/udp-service-interoperability">Unity@2022.1</a></li><li><a href="https://62455b8ed3daac0779429a1c--danyow.netlify.app/docs/lua/hello" target="_blank" rel="noopener noreferrer" class="dropdown__link">Lua@5.3<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_GWqj"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a class="dropdown__link" href="/en/versions">所有版本</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><span><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_NpMu"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg><span>English</span></span></a><ul class="dropdown__menu"><li><a href="/docs/unity-services/udp/udp-service-interoperability/udp-service-interoperability" target="_self" rel="noopener noreferrer" class="dropdown__link">中文</a></li><li><a href="/en/docs/unity-services/udp/udp-service-interoperability/udp-service-interoperability" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">English</a></li><li><a href="https://github.com/danyow/danyow.github.io/issues/3526" target="_blank" rel="noopener noreferrer" class="dropdown__link">Help Us Translate<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_GWqj"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a href="https://github.com/danyow/danyow.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_IT2h colorModeToggle_o_qc"><button class="clean-btn toggleButton_pGki toggleButtonDisabled_vZLo" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_dYsV"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_WRF1"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_lGmL"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_zNSk"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_ecpa" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_NEdF"><div class="sidebar_Uz2u sidebarWithHideableNavbar_MFe1"><a tabindex="-1" class="sidebarLogo_iqfm" href="/en/"><img src="/en/img/logo.svg" alt="Danyow Logo" class="themedImage_aIr_ themedImage--light_DGIu" height="32" width="32"><img src="/en/img/logo-dark.svg" alt="Danyow Logo" class="themedImage_aIr_ themedImage--dark_RoHN" height="32" width="32"><b>Danyow</b></a><nav class="menu thin-scrollbar menu_XU2j menuWithAnnouncementBar_vo3y"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/animation-section/animation-section">动画</a><button aria-label="Toggle the collapsible sidebar category &#x27;动画&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/asset-store/asset-store">Unity Asset Store</a><button aria-label="Toggle the collapsible sidebar category &#x27;Unity Asset Store&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/asset-workflow/asset-workflow">资源工作流程</a><button aria-label="Toggle the collapsible sidebar category &#x27;资源工作流程&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/audio/audio">音频</a><button aria-label="Toggle the collapsible sidebar category &#x27;音频&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/creating-environments/creating-environments">World building</a><button aria-label="Toggle the collapsible sidebar category &#x27;World building&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/glossary">术语表</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/graphics/graphics">图形</a><button aria-label="Toggle the collapsible sidebar category &#x27;图形&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/input/input">输入</a><button aria-label="Toggle the collapsible sidebar category &#x27;输入&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/legacy-topics/legacy-topics">旧版主题</a><button aria-label="Toggle the collapsible sidebar category &#x27;旧版主题&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/navigation/navigation">导航和寻路</a><button aria-label="Toggle the collapsible sidebar category &#x27;导航和寻路&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/open-source-repositories/open-source-repositories">开源代码仓库</a><button aria-label="Toggle the collapsible sidebar category &#x27;开源代码仓库&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/packages-list/packages-list">Packages and feature sets</a><button aria-label="Toggle the collapsible sidebar category &#x27;Packages and feature sets&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/physics-section/physics-section">物理系统</a><button aria-label="Toggle the collapsible sidebar category &#x27;物理系统&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/platform-specific/platform-specific">平台开发</a><button aria-label="Toggle the collapsible sidebar category &#x27;平台开发&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/scripting-section/scripting-section">脚本</a><button aria-label="Toggle the collapsible sidebar category &#x27;脚本&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/search-overview/search-overview">Unity Search</a><button aria-label="Toggle the collapsible sidebar category &#x27;Unity Search&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/uitoolkits/uitoolkits">创建用户界面 (UI)</a><button aria-label="Toggle the collapsible sidebar category &#x27;创建用户界面 (UI)&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/unet/unet">多玩家和联网</a><button aria-label="Toggle the collapsible sidebar category &#x27;多玩家和联网&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/unity-manual/unity-manual">Unity User Manual 2022.1 (beta)</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/unity-overview/unity-overview">在 Unity 中操作</a><button aria-label="Toggle the collapsible sidebar category &#x27;在 Unity 中操作&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/en/docs/unity-services/unity-services">Unity 服务</a><button aria-label="Toggle the collapsible sidebar category &#x27;Unity 服务&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/en/docs/unity-services/orgs-unity-organizations/orgs-unity-organizations">Unity Organizations</a><button aria-label="Toggle the collapsible sidebar category &#x27;Unity Organizations&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/en/docs/unity-services/setting-up-project-services/setting-up-project-services">Setting up your project for Unity services</a><button aria-label="Toggle the collapsible sidebar category &#x27;Setting up your project for Unity services&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/en/docs/unity-services/udp/udp">Unity 分发平台</a><button aria-label="Toggle the collapsible sidebar category &#x27;Unity 分发平台&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/unity-services/udp/udp-distribution">使用 UDP 分发游戏</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/unity-services/udp/udp-getting-started">开始使用 UDP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/unity-services/udp/udp-implementing-iap">Implementing IAP products</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/unity-services/udp/udp-managing-and-publishing">在 UDP 控制台上管理和发布游戏</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/en/docs/unity-services/udp/udp-reference/udp-reference">UDP 参考</a><button aria-label="Toggle the collapsible sidebar category &#x27;UDP 参考&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/unity-services/udp/udp-sandbox-testing">在 UDP 沙盒中测试游戏</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" aria-expanded="true" tabindex="0" href="/en/docs/unity-services/udp/udp-service-interoperability/udp-service-interoperability">Using UDP with other services</a><button aria-label="Toggle the collapsible sidebar category &#x27;Using UDP with other services&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/unity-services/udp/udp-service-interoperability/udp-firebase">Using Firebase with UDP builds</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/unity-services/udp/udp-troubleshooting">UDP 故障排除</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/unity-services/unity-ads">Unity Ads</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/en/docs/unity-services/unity-analytics/unity-analytics">Unity Analytics</a><button aria-label="Toggle the collapsible sidebar category &#x27;Unity Analytics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/en/docs/unity-services/unity-ccd/unity-ccd">Unity Cloud Content Delivery</a><button aria-label="Toggle the collapsible sidebar category &#x27;Unity Cloud Content Delivery&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/en/docs/unity-services/unity-cloud-build/unity-cloud-build">Unity Cloud Build</a><button aria-label="Toggle the collapsible sidebar category &#x27;Unity Cloud Build&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/unity-services/unity-cloud-diagnostics">Unity Cloud Diagnostics</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/en/docs/unity-services/unity-collaborate/unity-collaborate">Unity Collaborate</a><button aria-label="Toggle the collapsible sidebar category &#x27;Unity Collaborate&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/en/docs/unity-services/unity-iap/unity-iap">Unity IAP</a><button aria-label="Toggle the collapsible sidebar category &#x27;Unity IAP&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/unity-services/unity-integrations">Unity Integrations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/unity-services/unity-multiplayer-service">Multiplayer 服务</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/unity2d/unity2d">2D</a><button aria-label="Toggle the collapsible sidebar category &#x27;2D&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/video-player/video-player">视频概述</a><button aria-label="Toggle the collapsible sidebar category &#x27;视频概述&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/xr/xr">XR</a><button aria-label="Toggle the collapsible sidebar category &#x27;XR&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_Essf"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_bqna"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_vJqy"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_ygLL"><div class="docItemContainer_yJzi"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_nmcO" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/en/">🏠</a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/en/docs/unity-services/unity-services"><span itemprop="name">Unity 服务</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/en/docs/unity-services/udp/udp"><span itemprop="name">Unity 分发平台</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">Using UDP with other services</span><meta itemprop="position" content="3"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Unity@2022.1</span><div class="tocCollapsible_aX8Q theme-doc-toc-mobile tocMobile_By44"><button type="button" class="clean-btn tocCollapsibleButton_Va7b">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Using UDP with other services</h1><h2 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="google-play-games-services-in-udp-builds">Google Play games services in UDP builds<a class="hash-link" href="#google-play-games-services-in-udp-builds" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="overview">Overview<a class="hash-link" href="#overview" title="Direct link to heading">​</a></h3><p>Implementing <a href="https://developers.google.com/games/services/console/enabling" target="_blank" rel="noopener noreferrer">Google Play games services</a> in your Android games lets you leverage Google’s service layer for features such as achievements and leaderboards. If your game implements Google Play game services, additional configuration is required to support the builds that <a href="https://unity.com/udp" target="_blank" rel="noopener noreferrer">UDP</a> creates for different stores.</p><p>When your game invokes Google Play games services, Google Play games services checks that the following details match the information registered on the Google Play Console:</p><ul><li>The application’s  <strong>package name</strong> </li><li>The  <strong>certificate</strong>  the application was signed with</li></ul><p>If they don’t match, the player can’t log into the application with Google Play games services.</p><p>For certain stores that you publish your game to via UDP, UDP adds a store-specific suffix to the package name. Additionally, if you don’t use your own private key to generate the certificate, UDP generates a certificate for each repacked build. These events would cause your certificate and/or package name to no longer match the information on the Google Play Console. This would prevent users from logging into the game with Google Play game services.</p><p>The following section explains how to resolve this issue.</p><h3 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="configuring-google-play-games-services-for-udp-builds">Configuring Google Play games services for UDP builds<a class="hash-link" href="#configuring-google-play-games-services-for-udp-builds" title="Direct link to heading">​</a></h3><p>This section explains how to link your UDP versions to a Google Play application so that Google Play game services can work on all of them.</p><ol><li>In the Google Play Console, go to the target app.</li><li>Go to  <strong>Play Games Services</strong>  <!-- -->&gt;<!-- -->  <strong>Setup and management</strong>  <!-- -->&gt;<!-- -->  <strong>Configuration</strong> .<ul><li>If your Google Play game has Google Play games services implemented, your game will already be linked to a Google Play games services project. In this case:<ol><li>Select  <strong>Use an existing Play Games Services project</strong> .</li><li>Select your game project and select  <strong>Use</strong> .</li><li>Follow the steps in <a href="#linking-udp-apps-to-your-games-services">Link the UDP apps to your game service</a>.</li></ol></li><li>If your Google Play game doesn’t have Google Play games services implemented:<ol><li>In the Play Games Services setup page, select  <strong>Yes, my game already uses Google APIs</strong>  or  <strong>No, my game doesn’t use Google APIs</strong> .</li><li>Follow the steps in <a href="#creating-and-linking-a-google-play-games-services-project">Creating and linking a Google Play games services project</a>.</li></ol></li></ul></li></ol><h4 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="creating-and-linking-a-google-play-games-services-project">Creating and linking a Google Play games services project<a class="hash-link" href="#creating-and-linking-a-google-play-games-services-project" title="Direct link to heading">​</a></h4><p>This section explains how to create a Google Play games services project and link it to a new or existing cloud project.</p><p>If you selected  <strong>Yes, my game already uses Google APIs</strong>  in the Play Games Services setup page:</p><ol><li>Select a cloud project.</li><li>Select Use to create a new Play Games Services project and link it to your existing cloud project.</li></ol><p>If you selected  <strong>No, my game doesn’t use Google APIs</strong>  in the Play Games Services setup page:</p><ol><li>Enter a game name.</li><li>Select Create to create a new Play Games Services project and link it to a new cloud project.</li></ol><p>When you create a new Play Games Services project, the  <strong>Add credential</strong>  link is disabled.</p><ol><li>Select  <strong>Configure OAuth consent screen</strong> .</li><li>In the Play Games Services configuration screen, select Refresh.<br>The Add credential option is now enabled.</li><li>Select  <strong>Add credential</strong> .<br>This opens the Add credential page.</li><li>In the Add credential page:<ol><li>Select  <strong>Android</strong>  as the  <strong>Type</strong> .</li><li>Set  <strong>Enable anti-piracy</strong>  to  <strong>Off</strong> . This lets users access your game if they have installed it from a different app store than Google Play.</li><li>In the Authorization section, select  <strong>Create OAuth client</strong> . This opens a popup.</li><li>Select  <strong>Create OAuth Client ID</strong>  and use the details from the popup to complete the form.</li></ol></li></ol><p>When you’ve completed the above steps, your Google Play game is linked to its Google Play games services. The next step is to <a href="#linking-udp-apps-to-your-games-services">link your UDP builds to the games services</a>.</p><h4 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="linking-udp-apps-to-your-games-services">Linking UDP apps to your games services<a class="hash-link" href="#linking-udp-apps-to-your-games-services" title="Direct link to heading">​</a></h4><p>When you have linked your app to Google Play games services you can link the other (UDP) apps to the games services.</p><ol><li>In the Google Play Console, select  <strong>Play Games Services</strong>  <!-- -->&gt;<!-- -->  <strong>Setup and management</strong>  <!-- -->&gt;<!-- -->  <strong>Configuration</strong> .<ol><li>In the Play Games Services configuration page, select  <strong>Add credential</strong> .</li></ol></li><li>In the Add credential page:<ol><li>Select  <strong>Android</strong> .</li><li>Set  <strong>Enable anti-piracy to off</strong> . This lets users access your game if they have installed it from a different app store than Google Play.</li><li>In the  <strong>Authorization</strong>  section, select  <strong>Create OAuth client</strong> . This opens a popup.</li><li>Select  <strong>Create OAuth Client ID</strong>  and use the details from the popup to complete the form.</li></ol></li><li>In the Create OAuth client ID form, enter the required details to create an entry for one of your UDP builds.<ol><li>In the  <strong>Name</strong>  field, name the build after the corresponding store, for example “Samsung version”.</li><li>In the  <strong>Package name</strong>  field, specify the package name for the build registered with the corresponding store via the UDP console.<br>The store-specific package name is displayed in the UDP console:<ol><li>Go to My Games <!-- -->&gt;<!-- --> Publish tab.</li><li>Select  <strong>Advanced</strong>  for the corresponding store.<br>The package name is displayed in the Basic Information section.</li></ol></li><li>In the certificate field, use the certificate used for the corresponding UDP store. UDP signs the app with the new certificate after the Repack operation.<br>The store-specific certificate is displayed in the UDP console:<ol><li>Go to My Games <!-- -->&gt;<!-- --> Publish tab.</li><li>Select  <strong>Advanced</strong>  for the corresponding store.<br>The certificate is displayed in the Basic Information section.<br> <strong>Note</strong> : You can also download the APK Certificate and get the fingerprint information via the command:<br><code>openssl x509 -in [downloaded-pem-filepath] -fingerprint -noout</code></li><li>Copy the SHA–1 from the UDP console into the certificate field.</li></ol></li></ol></li><li>When you’ve completed the form, select  <strong>Create</strong>  and return to Google Play Console.</li><li>Select  <strong>Refresh OAuth clients</strong> .</li><li>Select your new OAuth client.<ol><li>Select  <strong>Save changes</strong>  to save the credential.</li></ol></li><li>Repeat the above steps for each store-specific UDP build that you want to link to your Google Play application.</li></ol><p>You can view the UDP builds you’ve linked to your Google Play application in the Google Cloud Platform <!-- -->&gt;<!-- --> Google API &amp; Services dashboard, under Credentials.</p><p>These steps enable Google Play games services to work successfully on all the UDP store versions that are linked that way, excluding Mi GetApps (whose SDK integrates an old version of Google Mobile Services, which creates conflicts).</p><p> <strong>Note</strong> : Any changes to Google’s systems could impact the solution described above. For more information on Google’s troubleshooting information, see the <a href="https://www.google.com/url?q=https://developers.google.com/games/services/android/troubleshooting&amp;sa=D&amp;ust=1611571996561000&amp;usg=AOvVaw00u3uXWmm9qmGpqo4yuFQX" target="_blank" rel="noopener noreferrer">Google documentation</a>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="using-cloud-build-with-udp">Using Cloud Build with UDP<a class="hash-link" href="#using-cloud-build-with-udp" title="Direct link to heading">​</a></h2><p>可通过以下方式使用 <a href="https://docs.unity3d.com/Manual/UnityCloudBuild.html" target="_blank" rel="noopener noreferrer">Cloud Build</a> 将游戏部署到 UDP 控制台：</p><ul><li><a href="#%E9%80%9A%E8%BF%87-cloud-build-%E5%B0%86%E6%9E%84%E5%BB%BA%E7%89%88%E6%9C%AC%E6%8E%A8%E9%80%81%E5%88%B0-udp-%E6%8E%A7%E5%88%B6%E5%8F%B0">将 APK 上传到 Cloud Build</a>，然后从那里部署到 UDP</li><li><a href="#%E9%80%9A%E8%BF%87-cloud-build-%E8%BF%9B%E8%A1%8C%E6%9E%84%E5%BB%BA%E5%92%8C%E9%83%A8%E7%BD%B2">使用 Cloud Build 构建你的游戏</a>，然后从那里部署到 UDP</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="通过-cloud-build-将构建版本推送到-udp-控制台">通过 Cloud Build 将构建版本推送到 UDP 控制台<a class="hash-link" href="#通过-cloud-build-将构建版本推送到-udp-控制台" title="Direct link to heading">​</a></h2><p>This section explains how to use Cloud Build to push your game to UDP. In the Unity Editor, enable Cloud Build in the Project Settings window.</p><h3 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="在编辑器中使用-cloud-build-将游戏部署到-udp">在编辑器中使用 Cloud Build 将游戏部署到 UDP<a class="hash-link" href="#在编辑器中使用-cloud-build-将游戏部署到-udp" title="Direct link to heading">​</a></h3><p>要通过 Unity 编辑器中的 Cloud Build 功能将游戏部署到 UDP，你需要上传 UDP 构建版本并将其推送到 UDP。</p><ol><li>In the  <strong>Cloud Build</strong>  tab of the Project Settings window, if you haven’t uploaded any build before, select  <strong>Upload Build</strong> .<br> 1.在  <strong>FILE</strong>  中：<br><ul><li>选择 UDP 构建版本的 APK</li><li>在  <strong>LABEL</strong>  中输入有用的标签</li><li>将  <strong>PLATFORM</strong>  字段设置为 Android。<br> 1.选择  <strong>UPLOAD</strong> ，然后等待完成上传过程。</li></ul></li><li>In the  <strong>Cloud Build</strong>  tab of the Project Settings window, locate the desired build from the build  <strong>History</strong>  timeline and select  <strong>Push to Unity Distribution Portal</strong> . 1.确认想要推送，然后确认操作完成。<br> <img loading="lazy" src="https://docs.unity3d.com/cn/2022.1/uploads/Main/UDPUsingCloudBuild_03.png" alt="UDPUsingCloudBuild_03.png" class="img_PFMr"></li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="使用-unity-dashboard-将游戏部署到-udp">使用 Unity Dashboard 将游戏部署到 UDP<a class="hash-link" href="#使用-unity-dashboard-将游戏部署到-udp" title="Direct link to heading">​</a></h3><p>要通过 Unity Dashboard 中的 Cloud Build 功能将游戏部署到 UDP，你需要将 UDP 构建版本上传到 Unity Dashboard 并从其中推送到 UDP。</p><p>1.在 <a href="https://developer.cloud.unity3d.com/build" target="_blank" rel="noopener noreferrer">Unity 开发者控制面板 (Developer Dashboard)</a> 中，导航到项目的  <strong>Cloud Build</strong>  <!-- -->&gt;<!-- -->  <strong>History</strong> 。 1.选择  <strong>Upload</strong> ，然后选择 APK 文件。 1.在  <strong>Platform</strong>  字段中，选择  <strong>Android</strong> 。 1.选择  <strong>Upload</strong> 。 1.选择构建版本旁边的 More 菜单以展开下拉菜单。 1.选择  <strong>Push to Unity Distribution Portal</strong> 。</p><h2 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="通过-cloud-build-进行构建和部署">通过 Cloud Build 进行构建和部署<a class="hash-link" href="#通过-cloud-build-进行构建和部署" title="Direct link to heading">​</a></h2><p>如果使用的是 Unity Teams Advanced，你可以<a href="https://docs.unity3d.com/Manual/UnityCloudBuildContinuousIntegration.html" target="_blank" rel="noopener noreferrer">自动生成构建版本</a>。</p><p>In the Cloud Build tab of the Project Settings window:</p><p>1.选择  <strong>Manage Build Targets</strong>  <!-- -->&gt;<!-- -->  <strong>Add new build target</strong>  1.在  <strong>TARGET SETUP</strong>  窗口中，将  <strong>PLATFORM</strong>  字段设置为 Android 并输入有用的  <strong>TARGET LABEL</strong> 。 1.选择  <strong>Next: Save</strong> 。 1.选择  <strong>Start Cloud Build</strong> ，然后选择刚才创建的目标构建版本。</p><p>通过 Unity Cloud Build 开发者控制面板 (Developer Dashboard) 将构建版本直接推送到 UDP（如上所示）。</p><h2 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="服务互操作性">服务互操作性<a class="hash-link" href="#服务互操作性" title="Direct link to heading">​</a></h2><p>UDP 可以让游戏使用的其他服务了解该游戏是从哪个商店下载的。</p><p>Unity 服务以及第三方服务或你自己的服务可以多种方式使用这一信息。</p><p>例如，在使用 <a href="https://unity.com/remote-config" target="_blank" rel="noopener noreferrer">Unity Remote Config</a> 时，你可以根据定义的规则（例如，从哪个商店下载的游戏）来调整游戏设置。</p><p>本节介绍如何让其他服务访问此信息，并提供了一个<a href="#using-udp-store-with-remote-config">示例</a>。</p><h3 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="how-does-it-work">How does it work?<a class="hash-link" href="#how-does-it-work" title="Direct link to heading">​</a></h3><p>当游戏首次在玩家的设备上启动时，UDP 将创建 <code>udp.json</code> 文件并将其放入游戏的“持久数据路径”(Persistent Data Path) 中。此文件包含的字段 <code>udpStore</code> 会显示游戏是从哪个商店下载的。可获取该信息以按预期方式使用它。</p><p> <strong>注意：</strong> 这不会在游戏清单中添加任何新的权限。</p><h3 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="locating-udpjson">Locating udp.json<a class="hash-link" href="#locating-udpjson" title="Direct link to heading">​</a></h3><p><code>udp.json</code> 文件保存在：</p><p><code>Application.PersistentDataPath + &#x27;/Unity&#x27; + /Application.CloudProjectID + /udp/udp.json</code></p><p>其中：</p><ul><li><code>Application.PersistentDataPath</code> 是游戏的持久数据路径</li><li><code>Application.CloudProjectID</code> 是游戏的 Unity 项目 ID</li></ul><p>以下是一个 <code>udp.json</code> 文件路径示例：</p><p><code>path/storage/emulated/0/Android/data/com.mystudio.mygame/files/Unity/c83d2de2-de74-4b75-83fc-ade948bda064/udp/udp.json</code></p><p>其中：</p><ul><li><code>Application.PersistentDataPath</code>\= <code>path/storage/emulated/0/Android/data/com.mystudio.mygame</code></li><li><code>Application.CloudProjectID</code>\= <code>c83d2de2-de74-4b75-83fc-ade948bda064</code></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="reading-udpjson">Reading udp.json<a class="hash-link" href="#reading-udpjson" title="Direct link to heading">​</a></h3><p><code>udp.json</code> 文件包含以下信息：</p><div class="codeBlockContainer_CBWl theme-code-block"><div class="codeBlockContent_vhl8" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_w2AC thin-scrollbar"><code class="codeBlockLines_OfWd"><span class="token-line" style="color:#393A34"><span class="token plain">{&quot;key&quot;:&quot;UDP&quot;,&quot;udpStore&quot;:&quot;StoreName&quot;,&quot;udpClientId&quot;:&quot;value_of_udpClientId&quot;,&quot;CloudProjectId&quot;:&quot;value_of_CloudProjectId&quot;}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_R7VQ clean-btn"><span class="copyButtonIcons_Uqyx" aria-hidden="true"><svg class="copyButtonIcon_CtfL" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_Mq1p" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p><code>udpStore</code> 字段包含的值就是下载游戏的 UDP 商店。</p><p>以下是一个 <code>udp.json</code> 文件示例：</p><div class="codeBlockContainer_CBWl theme-code-block"><div class="codeBlockContent_vhl8" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_w2AC thin-scrollbar"><code class="codeBlockLines_OfWd"><span class="token-line" style="color:#393A34"><span class="token plain">{&quot;key&quot;:&quot;UDP&quot;,&quot;udpStore&quot;:&quot;Huawei&quot;,&quot;udpClientId&quot;:&quot;icjaB7wmu_q7AOjrSLH8yw&quot;,&quot;cloudProjectId&quot;:&quot;bc2be074-09f3-450f-8e98-a0f79c9746f7&quot;}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_R7VQ clean-btn"><span class="copyButtonIcons_Uqyx" aria-hidden="true"><svg class="copyButtonIcon_CtfL" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_Mq1p" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>In this example, the game was downloaded from the HUAWEI AppGallery.</p><p> <strong>提示：</strong> 使用 <code>JSONUtility.FromJsonOverwrite</code> 可将文件内容作为文本资源读取。</p><h3 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="udpstore-values">udpStore values<a class="hash-link" href="#udpstore-values" title="Direct link to heading">​</a></h3><p>下表列出了 UDP 商店可能的 <code>udpStore</code> 值。</p><p>这些值区分大小写。</p><table><thead><tr><th>商店（UDP 上的通道名称）</th><th>udpStore 的值</th></tr></thead><tbody><tr><td>UDP Sandbox（适用于通用 UDP 构建版本）</td><td>UdpSandbox</td></tr><tr><td>ONE store</td><td>OneStore</td></tr><tr><td>APPTUTTi</td><td>Apptutti</td></tr><tr><td>Mi GetApps (Xiaomi)</td><td>XiaomiStore</td></tr><tr><td>HUAWEI AppGallery</td><td>Huawei</td></tr><tr><td>QooApp Game Store</td><td>QooApp</td></tr><tr><td>Uptodown</td><td>Uptodown</td></tr><tr><td>SHAREit</td><td>ShareIt</td></tr><tr><td>JioGames</td><td>JioGames</td></tr><tr><td>Legion Store</td><td>Legion</td></tr></tbody></table><h3 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="using-udpstore-with-remote-config">Using udpStore with Remote Config<a class="hash-link" href="#using-udpstore-with-remote-config" title="Direct link to heading">​</a></h3><p>使用 <a href="https://unity.com/remote-config" target="_blank" rel="noopener noreferrer">Unity Remote Config</a> 可以在不部署应用程序新版本的情况下优化游戏设置。当玩家启动游戏时，Remote Config 会检测用作规则条件的上下文属性（基于 Unity、应用程序、用户或你定义的自定义条件）。然后，相应服务会根据适用于每个玩家的规则为玩家返回自定义设置。</p><p>在规则条件中使用 <code>udpStore</code> 作为属性，就可以根据游戏是从哪个 UDP 商店下载的来确定游戏设置。</p><p>要使用 Remote Config 实现 udpStore，请遵循以下步骤。</p><p>1.下载并安装 UDP 包。 1.下载并安装 Unity Remote Config 包。请参阅 <a href="https://docs.unity3d.com/Packages/com.unity.remote-config@latest/index.html" target="_blank" rel="noopener noreferrer">Remote Config 文档</a>。 1.创建一个 AppAttributes 结构，其中至少包含参数“udpStore”：<br> <code>public struct AppAttributes { public string udpStore; }</code> 1.在游戏代码中，实现 Remote Config ConfigManager.FetchConfigs 调用。 1.调用 FetchConfigs 时，创建 AppAttributes 结构的新实例，从以下位置读取 UDP 商店数据文件： Application.PersistentDataPath + ‘/Unity’ + /Application.CloudProjectId + /udp/udp.json 使用 JSONUtility.FromJsonOverwrite 可将文件内容作为文本资源读取。<br> <code>{ string udpFilePath = System.IO.Path.Combine(Application.persistentDataPath, &quot;Unity&quot;, Application.cloudProjectId, &quot;udp&quot;, &quot;udp.json&quot;); string udpFileContents = System.IO.File.ReadAllText(udpFilePath); var appAttr = JsonUtility.FromJson&amp;lt;AppAttributes&amp;gt;(udpFileContents); Unity.RemoteConfig.ConfigManager.FetchCompleted += ConfigManager_FetchCompleted; Unity.RemoteConfig.ConfigManager.FetchConfigs(null, appAttr); }</code> 1.确保在 ConfigManager.FetchConfigs 中使用 AppAttributes 结构。 1. Open the  <strong>Remote Config</strong>  settings ( <strong>Services</strong>  <!-- -->&gt;<!-- -->  <strong>Remote Config</strong>  <!-- -->&gt;<!-- -->  <strong>Configure</strong> ), and create the parameters that you’d want to change based on the UDP store. 1.设置好参数并插入到游戏代码中后，请在 Remote Config 窗口中为每个商店创建一个规则。 1.在每个规则的条件中，放入：app.udpStore == “<!-- -->[<!-- -->storeName<!-- -->]<!-- -->”<br> <!-- -->*<!-- --> 请参阅 <a href="#udp-store-values">udpStore 的值</a><br> <img loading="lazy" src="https://docs.unity3d.com/cn/2022.1/uploads/Main/UDPServiceInteroperability_01.png" alt="UDPServiceInteroperability_01.png" class="img_PFMr"> 1. To enable the setting, select the checkbox next to the name of the rule on the left panel in the Remote Config settings. 1.针对设备构建应用程序，并确保正确应用规则，然后发布。</p><h2 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="使用-unity-iap-实现用于-udp-的-iap-商品">使用 Unity IAP 实现用于 UDP 的 IAP 商品<a class="hash-link" href="#使用-unity-iap-实现用于-udp-的-iap-商品" title="Direct link to heading">​</a></h2><p>如果要使用 Unity IAP 实现 UDP，请首先<a href="https://docs.unity3d.com/Manual/UnityIAPSettingUp.html" target="_blank" rel="noopener noreferrer">设置 Unity IAP</a>。</p><p> <strong>注意</strong> ：如果选择使用 Unity IAP 版本 1.22.0–1.23.5 来实现 UDP（而不是使用 UDP 包），则仅通过 Unity IAP 实现即可。</p><p>Unity IAP 自动进行以下处理：</p><ul><li>初始化 UDP</li><li>查询商店的 IAP 商品库存</li><li>请求购买某个商品</li><li>消耗所购买的商品</li></ul><p>但是，你的游戏必须根据 <a href="https://docs.unity3d.com/Manual/UnityIAP.html" target="_blank" rel="noopener noreferrer">Unity IAP 文档</a>正确使用 Unity IAP 的类似功能（例如初始化和购买）。</p><p>使用 Unity IAP 实现游戏的应用内购后，请按照以下步骤使用 Unity IAP 设置 UDP。</p><h3 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="查询-iap-库存">查询 IAP 库存<a class="hash-link" href="#查询-iap-库存" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="使用-unity-iap代码实现">使用 Unity IAP（代码实现）<a class="hash-link" href="#使用-unity-iap代码实现" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="获取编辑器中定义的-iap-商品">获取编辑器中定义的 IAP 商品<a class="hash-link" href="#获取编辑器中定义的-iap-商品" title="Direct link to heading">​</a></h5><p>When fetching the IAP products to pass to the <code>queryInventory</code> method, invoke <code>ProductCatalog.LoadDefaultCatalog()</code>. This returns the IAP products defined in the Editor’s  <strong>IAP Catalog</strong>  ( <strong>Services</strong>  <!-- -->&gt;<!-- -->  <strong>Unity IAP</strong>  <!-- -->&gt;<!-- -->  <strong>IAP Catalog</strong> ).</p><p>例如：</p><div class="codeBlockContainer_CBWl theme-code-block"><div class="codeBlockContent_vhl8" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_w2AC thin-scrollbar"><code class="codeBlockLines_OfWd"><span class="token-line" style="color:#393A34"><span class="token plain">var catalog = ProductCatalog.LoadDefaultCatalog();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">foreach (var product in catalog.allValidProducts)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   if (product.allStoreIDs.Count &amp;gt; 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       var ids = new IDs();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       foreach (var storeID in product.allStoreIDs)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           ids.Add(storeID.id, storeID.store);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       builder.AddProduct(product.id, product.type, ids);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       builder.AddProduct(product.id, product.type);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_R7VQ clean-btn"><span class="copyButtonIcons_Uqyx" aria-hidden="true"><svg class="copyButtonIcon_CtfL" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_Mq1p" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h5 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="从-udp-控制台获取-iap-商品信息">从 UDP 控制台获取 IAP 商品信息<a class="hash-link" href="#从-udp-控制台获取-iap-商品信息" title="Direct link to heading">​</a></h5><p>如果你打算在 UDP 控制台上修改游戏的 IAP 目录，请准备好游戏以便从 UDP 控制台获取 IAP 商品信息。</p><p>在获取 IAP 商品以便传递给 <code>queryInventory</code> 方法时，请调用 builder.AddProduct 以获取 UDP 控制台上定义的特定 IAP 商品：</p><p><code>builder.AddProduct(product.id, product.type, new IDs{})</code></p><p>要显示带有货币格式的商品价格，请使用 <code>productInfo.Value.Price</code>。</p><h5 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="从-udp-控制台获取-iap-目录">从 UDP 控制台获取 IAP 目录<a class="hash-link" href="#从-udp-控制台获取-iap-目录" title="Direct link to heading">​</a></h5><p>要获取在 UDP 控制台上定义的所有 IAP 商品，请不要调用任何 IAP 商品检索方法。你的游戏随后将从 UDP 控制台获取整个 IAP 目录。</p><p>注意：将 IAP 商品的 CSV 文件上传到 UDP 控制台上会完全覆盖你的 IAP 目录。</p><h4 class="anchor anchorWithHideOnScrollNavbar_c5FC" id="使用-unity-iap-包填充-iap-目录">使用 Unity IAP 包填充 IAP 目录<a class="hash-link" href="#使用-unity-iap-包填充-iap-目录" title="Direct link to heading">​</a></h4><p>在 <a href="/en/docs/unity-services/udp/udp#iap-%E7%9B%AE%E5%BD%95">IAP 目录</a>中添加和配置 UDP 应用内购。</p><p> <strong>注意</strong> ：如果未在游戏客户端中使用 IAP 目录（例如，如果仅在游戏服务器上维护 IAP 商品），仍必须<a href="/en/docs/unity-services/udp/udp-implementing-iap#%E5%88%9B%E5%BB%BA%E6%96%B0%E7%9A%84-iap-%E5%95%86%E5%93%81">在 UDP 控制台上创建 IAP 目录</a>。</p><ol><li>In the Unity Editor, select  <strong>Services</strong>  <!-- -->&gt;<!-- -->  <strong>Unity IAP</strong>  <!-- -->&gt;<!-- -->  <strong>IAP Catalog</strong> . 1.选择  <strong>Add Product</strong> ，然后输入每个 IAP 商品的详细信息。 1.在 Unity Distribution Portal Configuration 下添加 IAP 商品的价格。 <img loading="lazy" src="https://docs.unity3d.com/cn/2022.1/uploads/Main/UDPGamesWithIAP_09.png" alt="UDPGamesWithIAP_09.png" class="img_PFMr"> 1.要将 IAP 商品保存到 UDP 控制台，请选择  <strong>Sync to UDP</strong> 。对你创建的每个 IAP 商品执行此操作。</li></ol><p>为了确保正确保存了 IAP 目录，请检查 UDP 控制台中是否显示了所添加的商品。</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/danyow/danyow.github.io/edit/main/docs/unity/unity-services/udp/udp-service-interoperability/udp-service-interoperability.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_OMbO" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vA0S"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-03-31T15:56:20.000Z">3/31/2022</time></b> by <b>danyow</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/en/docs/unity-services/udp/udp-sandbox-testing"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">在 UDP 沙盒中测试游戏</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/en/docs/unity-services/udp/udp-service-interoperability/udp-firebase"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Using Firebase with UDP builds</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_jWtb thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#google-play-games-services-in-udp-builds" class="table-of-contents__link toc-highlight">Google Play games services in UDP builds</a><ul><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#configuring-google-play-games-services-for-udp-builds" class="table-of-contents__link toc-highlight">Configuring Google Play games services for UDP builds</a></li></ul></li><li><a href="#using-cloud-build-with-udp" class="table-of-contents__link toc-highlight">Using Cloud Build with UDP</a></li><li><a href="#通过-cloud-build-将构建版本推送到-udp-控制台" class="table-of-contents__link toc-highlight">通过 Cloud Build 将构建版本推送到 UDP 控制台</a><ul><li><a href="#在编辑器中使用-cloud-build-将游戏部署到-udp" class="table-of-contents__link toc-highlight">在编辑器中使用 Cloud Build 将游戏部署到 UDP</a></li><li><a href="#使用-unity-dashboard-将游戏部署到-udp" class="table-of-contents__link toc-highlight">使用 Unity Dashboard 将游戏部署到 UDP</a></li></ul></li><li><a href="#通过-cloud-build-进行构建和部署" class="table-of-contents__link toc-highlight">通过 Cloud Build 进行构建和部署</a></li><li><a href="#服务互操作性" class="table-of-contents__link toc-highlight">服务互操作性</a><ul><li><a href="#how-does-it-work" class="table-of-contents__link toc-highlight">How does it work?</a></li><li><a href="#locating-udpjson" class="table-of-contents__link toc-highlight">Locating udp.json</a></li><li><a href="#reading-udpjson" class="table-of-contents__link toc-highlight">Reading udp.json</a></li><li><a href="#udpstore-values" class="table-of-contents__link toc-highlight">udpStore values</a></li><li><a href="#using-udpstore-with-remote-config" class="table-of-contents__link toc-highlight">Using udpStore with Remote Config</a></li></ul></li><li><a href="#使用-unity-iap-实现用于-udp-的-iap-商品" class="table-of-contents__link toc-highlight">使用 Unity IAP 实现用于 UDP 的 IAP 商品</a><ul><li><a href="#查询-iap-库存" class="table-of-contents__link toc-highlight">查询 IAP 库存</a></li></ul></li></ul></div></div></div></div></main></div></div></div>
<script src="/en/assets/js/runtime~main.8b3186ef.js"></script>
<script src="/en/assets/js/main.4cfd5153.js"></script>
</body>
</html>